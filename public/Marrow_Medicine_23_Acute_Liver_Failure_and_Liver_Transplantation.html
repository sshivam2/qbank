<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>23_Acute Liver Failure and Liver Transplantation - Marrow Medicine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .medical-quiz {
            font-family: Segoe UI, Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .question-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .option-card {
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .option-card:hover {
            border-color: #3b82f6;
            transform: translateY(-2px);
        }
        
        .option-card.selected {
            background: #3b82f6;
            color: white;
            border-color: #1d4ed8;
        }
        
        .option-card.correct {
            background: #10b981;
            color: white;
            border-color: #059669;
        }
        
        .option-card.incorrect {
            background: #ef4444;
            color: white;
            border-color: #dc2626;
        }
        
        .progress-bar {
            background: linear-gradient(to right, #10b981, #059669);
            transition: width 0.3s;
        }
        
        .medical-image {
            max-width: 100%;
            max-height: 400px;
            height: auto;
            border-radius: 12px;
            margin: 20px auto;
            display: block;
        }
        
        .hidden {
            display: none !important;
        }

        .explanation-content {
            font-family: Segoe UI, Tahoma, Geneva, Verdana, sans-serif;
            font-size: 1.05rem;
            line-height: 1.7;
            color: #374151;
            text-align: left;
        }
        
        .explanation-content p {
            margin-bottom: 1rem;
            text-align: justify;
        }
        
        .explanation-content strong, .explanation-content b {
            font-weight: 600;
            color: #1f2937;
        }
        
        .explanation-content img {
            max-width: 100%;
            height: auto;
            margin: 1.5rem auto;
            display: block;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen medical-quiz">
    <header class="bg-white shadow-xl p-6">
        <div class="container mx-auto flex justify-between items-center">
            <div>
                <h1 class="text-3xl font-bold text-gray-800">23_Acute Liver Failure and Liver Transplantation</h1>
                <p class="text-gray-600 mt-2">Marrow ‚Ä¢ Medicine ‚Ä¢ Interactive Learning</p>
            </div>
            <div class="flex gap-2">
                <button class="bg-gray-500 text-white px-3 py-2 text-sm rounded-lg hover:bg-gray-600 transition" 
                        onclick="window.location.href='marrow_medicine.html'">
                    ‚Üê Topics
                </button>
                <button class="bg-purple-500 text-white px-3 py-2 text-sm rounded-lg hover:bg-purple-600 transition" 
                        onclick="window.location.href='marrow.html'">
                    üìö Marrow
                </button>
                <button class="bg-blue-500 text-white px-3 py-2 text-sm rounded-lg hover:bg-blue-600 transition" 
                        onclick="window.location.href='index.html'">
                    üè† Home
                </button>
            </div>
        </div>
    </header>

    <!-- Statistics Bar (Hidden in Test Mode) -->
    <div class="bg-white shadow-lg p-4" id="stats-bar">
        <div class="container mx-auto flex justify-center gap-8">
            <div class="text-center">
                <div class="text-2xl font-bold text-green-600" id="correct-stats">0</div>
                <div class="text-sm text-gray-600">Correct</div>
            </div>
            <div class="text-center">
                <div class="text-2xl font-bold text-red-600" id="incorrect-stats">0</div>
                <div class="text-sm text-gray-600">Incorrect</div>
            </div>
            <div class="text-center">
                <div class="text-2xl font-bold text-blue-600" id="accuracy-stats">0%</div>
                <div class="text-sm text-gray-600">Accuracy</div>
            </div>
            <div class="text-center">
                <div class="text-2xl font-bold text-purple-600" id="progress-stats">0/18</div>
                <div class="text-sm text-gray-600">Progress</div>
            </div>
        </div>
    </div>

    <!-- Quiz Section -->
    <section class="container mx-auto p-6" id="quiz-section">
        <div class="bg-white rounded-2xl shadow-xl p-8">
            <!-- Progress Bar -->
            <div class="w-full bg-gray-200 rounded-full h-4 mb-8">
                <div class="progress-bar h-4 rounded-full" id="progress-bar"></div>
            </div>

            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold text-blue-700" id="question-number">Question 1 of 18</h2>
                <div class="text-sm text-gray-600" id="question-status">Click an option to answer</div>
            </div>

            <!-- Question Text -->
            <div class="mb-10">
                <div class="question-card text-white p-8 rounded-2xl mb-8" id="question-text"></div>
                
                <!-- Question Image -->
                <div class="text-center mb-8" id="question-images"></div>
                
                <!-- Options -->
                <div class="space-y-4" id="options"></div>
            </div>

            <!-- Answer Feedback Section (Normal Mode Only) -->
            <div class="hidden mb-8 p-6 rounded-2xl" id="feedback-section">
                <div class="text-center mb-4">
                    <div class="text-6xl mb-2" id="feedback-icon"></div>
                    <div class="text-2xl font-bold mb-2" id="feedback-message">Correct!</div>
                </div>
                
                <div class="grid md:grid-cols-2 gap-4 mb-4">
                    <div class="bg-white p-4 rounded-xl border">
                        <strong>Your Answer:</strong><br>
                        <span id="user-answer-display"></span>
                    </div>
                    <div class="bg-white p-4 rounded-xl border">
                        <strong>Correct Answer:</strong><br>
                        <span class="text-green-600" id="correct-answer-display"></span>
                    </div>
                </div>
                
                <div class="bg-blue-50 p-6 rounded-xl" id="explanation-section">
                    <strong class="text-lg text-blue-800">Explanation:</strong>
                    <div id="explanation-content" class="mt-3 explanation-content"></div>
                </div>
            </div>

            <!-- Navigation -->
            <div class="flex justify-between gap-4">
                <button class="bg-gray-400 text-white px-6 py-3 rounded-xl hover:bg-gray-500 transition" 
                        onclick="window.location.href='marrow_medicine.html'">
                    Back to Topics
                </button>
                
                <div class="flex gap-4">
                    <button class="bg-gray-400 text-white px-6 py-3 rounded-xl disabled" id="prev-btn">
                        Previous
                    </button>
                    <button class="bg-blue-500 text-white px-6 py-3 rounded-xl hidden" id="next-btn">
                        Next
                    </button>
                    <button class="bg-green-600 text-white px-6 py-3 rounded-xl font-bold hidden" id="finish-btn">
                        Finish Quiz
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Test Mode Final Results -->
    <section class="container mx-auto p-6 hidden" id="test-results">
        <div class="bg-white rounded-2xl shadow-xl p-8">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold mb-4 text-blue-700">Test Complete! üéâ</h2>
                <div class="text-6xl mb-4" id="test-grade-icon">üéØ</div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-green-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-green-600" id="test-final-correct">0</div>
                    <div class="font-semibold text-green-700">Correct Answers</div>
                </div>
                <div class="bg-red-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-red-600" id="test-final-incorrect">0</div>
                    <div class="font-semibold text-red-700">Incorrect Answers</div>
                </div>
                <div class="bg-blue-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-blue-600" id="test-final-accuracy">0%</div>
                    <div class="font-semibold text-blue-700">Final Accuracy</div>
                </div>
            </div>

            <!-- Detailed Review -->
            <div class="mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-4">üìã Detailed Review</h3>
                <div id="test-review-details" class="space-y-4"></div>
            </div>
            
            <div class="flex justify-center gap-4">
                <button class="bg-purple-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-purple-700 transition" 
                        onclick="window.location.href='marrow_medicine.html'">
                    Back to Topics
                </button>
                <button class="bg-blue-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-blue-700 transition" 
                        onclick="window.location.reload()">
                    Retake Quiz
                </button>
            </div>
        </div>
    </section>

    <!-- Normal Mode Final Results -->
    <section class="container mx-auto p-6 hidden" id="final-results">
        <div class="bg-white rounded-2xl shadow-xl p-8">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold mb-4 text-blue-700">Quiz Complete! üéâ</h2>
                <div class="text-6xl mb-4" id="final-grade-icon">üéØ</div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-green-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-green-600" id="final-correct">0</div>
                    <div class="font-semibold text-green-700">Correct Answers</div>
                </div>
                <div class="bg-red-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-red-600" id="final-incorrect">0</div>
                    <div class="font-semibold text-red-700">Incorrect Answers</div>
                </div>
                <div class="bg-blue-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-blue-600" id="final-accuracy">0%</div>
                    <div class="font-semibold text-blue-700">Final Accuracy</div>
                </div>
            </div>
            
            <div class="flex justify-center gap-4">
                <button class="bg-purple-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-purple-700 transition" 
                        onclick="window.location.href='marrow_medicine.html'">
                    Back to Topics
                </button>
                <button class="bg-blue-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-blue-700 transition" 
                        onclick="window.location.reload()">
                    Retake Quiz
                </button>
            </div>
        </div>
    </section>

    <script>
        const questions = [
  {
    "id": 452,
    "text": "Q1. In acute liver failure, encephalopathy occurs within of the development of clinical symptoms.",
    "options": [
      {
        "label": "A",
        "text": "6 months",
        "correct": false
      },
      {
        "label": "B",
        "text": "6 weeks",
        "correct": false
      },
      {
        "label": "C",
        "text": "4 months",
        "correct": false
      },
      {
        "label": "D",
        "text": "4 weeks",
        "correct": true
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">307 In acute liver failure, encephalopathy occurs within 4 weeks of the development of the clinical symptoms. Acute liver failure is the rapid worsening of the liver function in patients without cirrhosis or any preexisting liver disease. The patient initially suffers from an acute injury to the liver by viruses, drugs, etc. Following this, the function of the liver rapidly worsens and patient develops coagulopathy and encephalopathy within 4 weeks of the development of jaundice or other clinical symptoms.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "D. 4 weeks"
  },
  {
    "id": 453,
    "text": "Q2. What is the most common cause of acute liver failure in India?",
    "options": [
      {
        "label": "A",
        "text": "Alcohol",
        "correct": false
      },
      {
        "label": "B",
        "text": "Viral infection",
        "correct": true
      },
      {
        "label": "C",
        "text": "Drug induced",
        "correct": false
      },
      {
        "label": "D",
        "text": "Malaria",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">The most common cause of acute liver failure (ALF) in India is a viral infection. Among the viruses, hepatitis E virus is the most common cause of acute liver failure. In developed countries, acetaminophen overdose is the most common cause of acute liver failure.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "B. Viral infection"
  },
  {
    "id": 454,
    "text": "Q3. small child was rushed to the ED by his parents. He had accidentally consumed wild mushrooms while they were trekking. Examination showed features of encephalopathy and his liver function tests were deranged. Which of the following is least likely to be seen in this condition?",
    "options": [
      {
        "label": "A",
        "text": "Hyperglycemia",
        "correct": true
      },
      {
        "label": "B",
        "text": "Hypomagnesemia",
        "correct": false
      },
      {
        "label": "C",
        "text": "Hypokalemia",
        "correct": false
      },
      {
        "label": "D",
        "text": "Hyponatremia",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">The given scenario is suggestive of Amanita phalloides (wild mushrooms) toxicity causing acute liver failure. Hypoglycemia is seen in acute liver failure and not hyperglycemia. It occurs due to impaired gluconeogenesis and glycogenolysis. Features of acute hepatic failure are: * Hepatic encephalopathy and cerebral edemaThere are increased levels of ammonia (neurotoxin) in the body as a result of decreased elimination by the liver. * CoagulopathyThere is a decrease in the synthesis of coagulation factors leading to the elevated prothrombin time and INR. * Increased risk of infectionsIt occurs as a result of decreased reticuloendothelial activity, decreased synthesis of complements, acute phase reactants, etc. * Renal failureThis is more commonly seen in drug/toxin-induced hepatic failure. * Metabolic complications like hypoglycemia, hyponatremia, hypokalemia, hypophosphatemia, hypomagnesemia.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "A. Hyperglycemia"
  },
  {
    "id": 455,
    "text": "Q4. patient is said to have hyperacute liver failure if encephalopathy occurs within?",
    "options": [
      {
        "label": "A",
        "text": "302 3 days",
        "correct": false
      },
      {
        "label": "B",
        "text": "7 days Cc) 10 days",
        "correct": true
      },
      {
        "label": "C",
        "text": "14 days",
        "correct": false
      },
      {
        "label": "D",
        "text": "",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Hyperacute liver failure is defined as the development of encephalopathy within 7 days of the appearance of symptoms. Acute liver failure can be subcategorized into three groups depending on the time interval between the onset of jaundice and encephalopathy. * Hyperacuteencephalopathy develops within 7 days or less than 7 days * Acuteencephalopathy develops between 8-28 days 308 * Subacuteencephalopathy develops between 28 days to 6 months Patients with hyperacute liver failure are more likely to develop coagulopathy and cerebral edema, but most of the patients will recover without the need for liver transplantation. On the other end, patients with subacute liver failure have less severe coagulopathy and cerebral edema, but most of them will need liver transplantation.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "B. 7 days Cc) 10 days"
  },
  {
    "id": 456,
    "text": "Q5. young patient with Hepatitis E virus infection develops acute liver failure. Which of the following scores can be used in assessing the prognosis of this patient?",
    "options": [
      {
        "label": "A",
        "text": "Pitt score",
        "correct": false
      },
      {
        "label": "B",
        "text": "Child Pugh score",
        "correct": false
      },
      {
        "label": "C",
        "text": "MELD score",
        "correct": true
      },
      {
        "label": "D",
        "text": "MDF score",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">In a patient with acute liver failure, MELD score and King's College Hospital criteria can be used to assess the prognosis. Option A: Pitt score is used used to predict mortality in patients having bloodstream infections. Option B: The child-Pugh score is used to assess the severity of cirrhosis. Option D: Maddrey's Discriminant Function (MDF) score suggests which patients with alcoholic hepatitis may have a poor prognosis and benefit from steroid administration.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "C. MELD score"
  },
  {
    "id": 457,
    "text": "Q6. young patient is admitted to the hospital after ingestion of a large number of acetaminophen tablets. To predict the prognosis using King&apos;s College hospital criteria in this patient, which of the parameters are not used?",
    "options": [
      {
        "label": "A",
        "text": "Arterial pH",
        "correct": false
      },
      {
        "label": "B",
        "text": "Prothrombin time",
        "correct": false
      },
      {
        "label": "C",
        "text": "Serum creatinine",
        "correct": false
      },
      {
        "label": "D",
        "text": "Serum bilirubin",
        "correct": true
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Serum bilirubin is not included in King's College Hospital criteria in acute liver failure due to paracetamol overdose. The King's College Hospital Criteria is a prognostic tool for patients with acute liver failure (ALF). The criteria is divided into acetaminophen and non-acetaminophen causes of liver failure. Liver transplantation is indicated in acetaminophen-induced ALF if there is a presence of * Either pH &amp;lt; 7. 3 * Or all of the following ¬¢ Prothrombin time &amp;gt; 100 sec or INR &amp;gt; 6. 5 * Serum creatinine level &amp;gt; 3. 4 mg/dL (300 umol/L) or anuria * Grade 3-4 encephalopathy Liver transplantation is indicated in non-acetaminophen causes of ALF if there is a presence of ¬¢ Either prothrombin time &amp;gt; 100 sec or INR &amp;gt; 6. 7 * Or any three of the following * Unfavorable etiology (seronegative hepatitis or drug reaction) * Age &amp;lt; 10 or &amp;gt; 40 yr * Acute or subacute category (duration of jaundice &amp;gt; 7 days) ¬¢ Serum bilirubin level &amp;gt; 17. 5 mg/dL (300 mol/L) * Prothrombin time &amp;gt; 50 sec or INR &amp;gt; 3. 5 309</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "D. Serum bilirubin"
  },
  {
    "id": 458,
    "text": "Q7. For patients with acute liver failure, which of the following is not an absolute contraindication for liver transplantation?",
    "options": [
      {
        "label": "A",
        "text": "AIDS",
        "correct": false
      },
      {
        "label": "B",
        "text": "Active alcohol abuse",
        "correct": false
      },
      {
        "label": "C",
        "text": "Metastatic hepatocellular carcinoma",
        "correct": false
      },
      {
        "label": "D",
        "text": "Portal vein thrombosis",
        "correct": true
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Portal vein thrombosis is not an absolute contraindication to liver transplantation. This is because portal vein thrombosis can be overcome by constructing a graft from the donor liver portal vein to the recipient‚Äôs superior mesenteric vein. Absolute contraindications of liver transplantation are: * Uncontrolled extra-hepatobiliary infection or untreated sepsis * Uncorrectable life-limiting congenital anomalies * Active substance or alcohol abuse * MalignanciesHepatocellular carcinoma with metastatic spread, incurable malignancies outside the liver, cholangiocarcinoma * AIDS ¬¢ Advanced cardiopulmonary disease Note: Milan criteriaPatients with primary hepatocellular malignancy can be considered for liver transplantation if there is: A single lesion &lt;5 cm. * Up to three separate lesions all &amp;lt; 3 cm without any evidence of gross vascular invasion, nodal or distant metastases.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "D. Portal vein thrombosis"
  },
  {
    "id": 459,
    "text": "Q8. 303 Which among the following is the most common indication of liver transplantation in children?",
    "options": [
      {
        "label": "A",
        "text": "Neonatal hepatitis",
        "correct": false
      },
      {
        "label": "B",
        "text": "Alpha-1 antitrypsin deficiency",
        "correct": false
      },
      {
        "label": "C",
        "text": "Biliary atresia",
        "correct": true
      },
      {
        "label": "D",
        "text": "Congenital hepatic fibrosis",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Biliary atresia is the most common indication of liver transplantation in children. Indications of liver transplant in children: * Biliary atresia * Neonatal hepatitis * Congenital hepatic fibrosis ¬¢ Alpha-1-antitrypsin deficiency * Wilsons disease * Glycogen storage disorders * Lysosomal storage disorders The most common indication of liver transplant in an adult is the cirrhotic liver. Cirrhosis may be the consequence of viral hepatitis, autoimmune hepatitis, chronic use of alcohol, or biliary cirrhosis.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "C. Biliary atresia"
  },
  {
    "id": 460,
    "text": "Q9. When should a liver transplant assessment be considered in a patient with cirrhosis of the liver?",
    "options": [
      {
        "label": "A",
        "text": "When he develops spontaneous bacterial peritonitis",
        "correct": true
      },
      {
        "label": "B",
        "text": "When he has ascites which responds to diuretics",
        "correct": false
      },
      {
        "label": "C",
        "text": "MELD score more than 10",
        "correct": false
      },
      {
        "label": "D",
        "text": "Child Pugh class A",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">310 Liver transplant assessment should be considered in a patient with cirrhosis of the liver when he develops spontaneous bacterial peritonitis. Cirrhosis is the most common indication of liver transplantation in adults. However, not all cases of cirrhosis require liver transplantation. It is considered 1. When the patient either develops the complication of cirrhosis like: * Persistent hepatic encephalopathy ¬¢ Spontaneous bacterial peritonitis * Portal hypertensive bleeding * Diuretic resistant ascites * Hepatorenal syndrome 2. Or has a poor liver function * MELD score &amp;gt; 12 * Child-Pugh grade C</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "A. When he develops spontaneous bacterial peritonitis"
  },
  {
    "id": 461,
    "text": "Q10. surgeon has removed a part of the liver from the live donor and has stored it in the University of Wisconsin (UW) solution. Which of the following is not a component of this solution?",
    "options": [
      {
        "label": "A",
        "text": "Lactobionic acid",
        "correct": false
      },
      {
        "label": "B",
        "text": "Glutathione",
        "correct": false
      },
      {
        "label": "C",
        "text": "Allopurinol",
        "correct": false
      },
      {
        "label": "D",
        "text": "Mannitol",
        "correct": true
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Mannitol is not a component of the University of Wisconsin (UW) solution. It is the most commonly used preservation solution during the transplantation of the liver and kidneys. The organ can be stored in this solution for up to 20 hours. Components of UW solution are: * LactobionatePrevents cellular swelling and reperfusion injury * Raffinose and hydroxyethyl starchPrevents endothelial injury ¬¢ Glutathione and allopurinolfree radical scavengers ¬´ Adenosinerequired for regeneration of ATP</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "D. Mannitol"
  },
  {
    "id": 462,
    "text": "Q11. Which of the following is a false statement regarding liver transplantation (LT)?",
    "options": [
      {
        "label": "A",
        "text": "The ideal graft weight to recipient weight ratio (GRWR) in living donor transplant is &amp;gt;0.8 %.",
        "correct": false
      },
      {
        "label": "B",
        "text": "In domino LT, liver grafts with metabolic diseases is used as they are structurally and functionally normal.",
        "correct": false
      },
      {
        "label": "C",
        "text": "Extended criteria donors and paired-exchange LT decrease waitlist mortality. 304",
        "correct": false
      },
      {
        "label": "D",
        "text": "Reduced size LT involves dividing the whole liver into right lobe for an adult patient and left lateral segments for pediatric patients.",
        "correct": true
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">The false statement regarding liver transplantation is option D. Reduced-size liver transplantation involves the resection of a full-size liver to appropriately fit in the abdominal cavity of small adults/adolescents. It is reserved only for urgent transplantation. On the contrary, split LT involves dividing the whole donor liver into a left lateral segment (segments II and III) for a pediatric patient and a right lobe (segments I, IV-VIII) for an adult patient. Option A: The required graft volume in a living donor transplant is measured by graft weight to recipient weight ratio (GRWR) or ratio of graft volume (GV) to recipient standard liver volume (SLV). The ideal GRWR is &amp;gt; 0. 8 % or GV/SLV is &amp;gt; 35%. The remnant donor liver mass is kept at &amp;gt; 30% for safe regeneration. 311 Option B: Domino liver transplant involves transplanting a liver from a donor with metabolic disease (eg: familial amyloid polyneuropathy) to a recipient with end-stage liver disease (eg: hepatocellular carcinoma). The donor also receives an LT (healthy donor) and is prioritized over the end-stage liver disease recipient. As a liver with metabolic diseases is structurally and functionally normal, it can prolong the recipient's life by at least 15-20 years as they will not develop the metabolic disease immediately. Option C: Extended criteria donors/ECDs (liver grafts extracted from donors after circulatory death) and paired-exchange technique are used to decrease waitlist mortality. However, ECDs have poor graft function due to prolonged hypoxia and are associated with higher infection transmission and biliary complications.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "D. Reduced size LT involves dividing the whole liver into right lobe for an adult patient and left lateral segments for pediatric patients."
  },
  {
    "id": 463,
    "text": "Q12. Auxiliary liver transplantation is beneficial in which of the following conditions:",
    "options": [
      {
        "label": "A",
        "text": "Acute liver failure",
        "correct": true
      },
      {
        "label": "B",
        "text": "Hepatocellular carcinoma",
        "correct": false
      },
      {
        "label": "C",
        "text": "Genetic Hemochromatosis",
        "correct": false
      },
      {
        "label": "D",
        "text": "Chronic viral hepatitis",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Auxiliary liver transplantation is beneficial in acute liver failure. Auxiliary liver transplantation involves implanting a healthy liver graft heterotopically or orthotopically while leaving the whole or part of the native liver intact. The auxiliary partial orthotopic LT (APOLT) technique is used in patients with acute liver failure and metabolic diseases (primary hypercholesterolemia, glycogen storage disorders, organic acidemia, etc). In acute liver failure, this technique helps in native liver regeneration and immunosuppression withdrawal. In children with metabolic liver diseases, this technique helps in future gene therapy. Options B, C, and D are chronic liver diseases not suitable for auxiliary liver transplantation.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "A. Acute liver failure"
  },
  {
    "id": 464,
    "text": "Q13. Which of the following sentences is true regarding split liver transplantation?",
    "options": [
      {
        "label": "A",
        "text": "It is done in living donor",
        "correct": false
      },
      {
        "label": "B",
        "text": "Left lateral lobe is donated to the paediatric recipient Cc) It is the most common type of liver transplant",
        "correct": true
      },
      {
        "label": "C",
        "text": "Caudate lobe is donated to the adult recipient",
        "correct": false
      },
      {
        "label": "D",
        "text": "",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">In a split liver transplant, the left lateral lobe is donated to the pediatric recipient. Split liver donation: This method is done when the liver from the deceased donor is suitable for transplant in an adult as well as a pediatric recipient. The liver is split into two. The left lateral segment (2 and 3) is donated to the pediatric recipient, left medial and right segments (4, 5, 6, 7, and 8) is donated to the adult recipient.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "B. Left lateral lobe is donated to the paediatric recipient Cc) It is the most common type of liver transplant"
  },
  {
    "id": 465,
    "text": "Q15. patient presented with fever and pain abdomen. He had undergone liver transplantation a month ago and is taking immunosuppressants. On examination, abdominal guarding was present and on auscultation, no bowel sounds were heard. Doppler showed hepatic artery thrombosis. Which of the following medications is he most likely on?",
    "options": [
      {
        "label": "A",
        "text": "305 Tacrolimus",
        "correct": false
      },
      {
        "label": "B",
        "text": "Sirolimus",
        "correct": true
      },
      {
        "label": "C",
        "text": "Cyclosporine",
        "correct": false
      },
      {
        "label": "D",
        "text": "Mycophenolate mofetil",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">312 The given clinical scenario is suggestive of peritonitis due to hepatic artery thrombosis. Sirolimus is known to cause hepatic artery thrombosis in liver transplant recipients. Sirolimus is an mTOR inhibitor and prevents T cell activation. It is not used commonly in liver transplant recipients because of the increased frequency of hepatic artery thrombosis in the first month posttransplantation. However, they can be used in patients with calcineurin inhibitor-related nephrotoxicity.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "B. Sirolimus"
  },
  {
    "id": 466,
    "text": "Q16. All of the following complications can be seen in patients with liver transplantation except",
    "options": [
      {
        "label": "A",
        "text": "Arrhythmias",
        "correct": false
      },
      {
        "label": "B",
        "text": "Seizures",
        "correct": false
      },
      {
        "label": "C",
        "text": "Hepatic artery thrombosis",
        "correct": false
      },
      {
        "label": "D",
        "text": "T cell lymphoma",
        "correct": true
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Patients with liver transplantation are more likely to develop B cell lymphomas and not T cell lymphoma. Complications of liver transplantation * Rejection of the transplanted liver * Hepatic artery thrombosis * Posttransplantation lymphoproliferative disordersIt can range from a mild polyclonal proliferation of B cells to B cell lymphomas. * Congestive heart failure and arrhythmias * Increased susceptibility to infections as a result of immunosuppression * Renal dysfunction due to acute tubular necrosis or nephrotoxicity of the tacrolimus and cyclosporine * Seizures are commonly associated with cyclosporine or tacrolimus toxicity.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "D. T cell lymphoma"
  },
  {
    "id": 467,
    "text": "Q17. liver biopsy is performed in a patient who is suspected to have acute rejection following liver transplantation. Which of the following findings in the biopsy will confirm the presence of acute rejection?",
    "options": [
      {
        "label": "A",
        "text": "Fibrosis",
        "correct": false
      },
      {
        "label": "B",
        "text": "Mononuclear infiltration",
        "correct": false
      },
      {
        "label": "C",
        "text": "Endotheliitis",
        "correct": true
      },
      {
        "label": "D",
        "text": "Focal parenchymal necrosis",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">The presence of endotheliitis confirms the presence of acute rejection of the liver transplant. Rejection following liver transplantation can be acute or chronic. Patients usually present with * Malaise ¬∞ Fever * Right upper quadrant pain Laboratory investigations will show * Elevated levels of serum bilirubin ¬´ Aminotransferases * Gamma-glutamy] transpeptidases * Liver biopsyfor confirming the diagnosis and planning the treatment 313 Liver biopsy of the acute rejection is characterized by the presence of mixed portal cellular infiltrate, bile duct injury, and endothelial inflammation (endotheliitis). Chronic rejection is characterized by the presence of focal parenchymal necrosis, mononuclear cell infiltration, progressive cholestasis, and fibrosis. In some patients, this process will lead to the loss of intrahepatic bile ducts, which is called vanishing bile duct syndrome.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "C. Endotheliitis"
  },
  {
    "id": 468,
    "text": "Q18. 40-year-old male patient developed fever, malaise, and anorexia after a month of liver transplantation. On evaluation, he has leukopenia, thrombocytopenia, and deranged liver function tests. Which of the following organisms is most likely to have caused this?",
    "options": [
      {
        "label": "A",
        "text": "Cytomegalovirus",
        "correct": true
      },
      {
        "label": "B",
        "text": "Varicella zoster virus",
        "correct": false
      },
      {
        "label": "C",
        "text": "Epstein-Barr virus",
        "correct": false
      },
      {
        "label": "D",
        "text": "Herpes simplex virus",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">The given clinical scenario is suggestive of post-solid transplant infection most likely due to cytomegalovirus(CMV). It is the most common cause of post-solid organ transplants in India. Epstein-Barr virus (EBV), herpes, and varicella are also known to cause infection post-solid organ transplantation but to a lesser extent. CMV disease in recipients can present with fever, leukopenia, thrombocytopenia, malaise, and arthralgia. They usually present within 1-4 months after transplant. The diagnosis of CMV infection is established by nucleic acid testing (NAT) using the polymerase chain reaction (PCR). Management includes the use of anti-viral drugs like ganciclovir, valganciclovir, foscarnet, cidofovir and intravenous immunoglobulins.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "A. Cytomegalovirus"
  },
  {
    "id": 469,
    "text": "Q19. 306 Which of the following primary diseases has the higher chance of recurrence, after liver transplantation?",
    "options": [
      {
        "label": "A",
        "text": "Sclerosing cholangitis ee ee ee en ee ee ee ee ec ee ee a a Detailed Explanations Solution to Question 1: 307",
        "correct": false
      },
      {
        "label": "B",
        "text": "Autoimmune hepatitis",
        "correct": true
      },
      {
        "label": "C",
        "text": "Alpha-1 antitrypsin deficiency",
        "correct": false
      },
      {
        "label": "D",
        "text": "Primary biliary cirrhosis a ee ee ee ee ee",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Among the given options, autoimmune hepatitis has the highest chance of recurrence after liver transplantation. Although some cases of sclerosing cholangitis and primary biliary cirrhosis recur, data for recurrence of autoimmune hepatitis is more supportive. Alpha-1 antitrypsin deficiency does not recur after liver transplantation. 314</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "23_Acute Liver Failure and Liver Transplantation",
    "deck_id": 1755954606976,
    "correctAnswer": "B. Autoimmune hepatitis"
  }
];
        let currentQuestion = 0;
        let answers = [];
        let correctCount = 0;
        let incorrectCount = 0;
        let answeredQuestions = new Set();
        let isTestMode = localStorage.getItem('testMode') === 'true' || false;

        console.log('Quiz loaded with', questions.length, 'questions');
        console.log('Test mode:', isTestMode);

        // Hide stats bar if test mode is enabled
        if (isTestMode) {
            document.addEventListener('DOMContentLoaded', () => {
                document.getElementById('stats-bar').style.display = 'none';
            });
        }

        // Auto-start quiz
        startQuiz();

        function startQuiz() {
            answers = new Array(questions.length).fill(null);
            correctCount = 0;
            incorrectCount = 0;
            answeredQuestions = new Set();
            currentQuestion = 0;
            showQuestion(0);
            updateStats();
        }

        function showQuestion(index) {
            currentQuestion = index;
            const question = questions[index];

            document.getElementById('question-number').textContent = `Question ${index + 1} of ${questions.length}`;
            document.getElementById('question-text').innerHTML = question.text;
            document.getElementById('question-status').textContent = answers[index] ? 'Question answered' : 'Click an option to answer';

            const imagesContainer = document.getElementById('question-images');
            imagesContainer.innerHTML = '';

            if (question.imageData) {
                const img = document.createElement('img');
                img.src = `data:${question.imageData.mime};base64,${question.imageData.data}`;
                img.className = 'medical-image';
                img.alt = 'Medical Question Image';
                imagesContainer.appendChild(img);
            }

            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';

            question.options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-card w-full p-6 text-left bg-white rounded-xl shadow-lg';
                button.innerHTML = `<span class="font-bold text-blue-600 mr-4">${option.label}.</span>${option.text}`;

                if (!isTestMode && answers[index] !== null) {
                    button.disabled = true;
                    if (option.correct) {
                        button.classList.add('correct');
                    } else if (answers[index] === option.label) {
                        button.classList.add('incorrect');
                    }
                } else {
                    button.onclick = () => selectAnswer(option.label);
                }

                if (answers[index] === option.label) {
                    button.classList.add('selected');
                }

                optionsContainer.appendChild(button);
            });

            // Show feedback only in normal mode and if answered
            if (!isTestMode && answers[index] !== null) {
                showFeedback(index);
            } else {
                document.getElementById('feedback-section').classList.add('hidden');
            }

            document.getElementById('prev-btn').disabled = index === 0;

            if (answers[index] !== null) {
                if (index === questions.length - 1) {
                    document.getElementById('next-btn').classList.add('hidden');
                    document.getElementById('finish-btn').classList.remove('hidden');
                } else {
                    document.getElementById('next-btn').classList.remove('hidden');
                    document.getElementById('finish-btn').classList.add('hidden');
                }
            } else {
                document.getElementById('next-btn').classList.add('hidden');
                document.getElementById('finish-btn').classList.add('hidden');
            }

            const progress = ((index + 1) / questions.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
        }

        function selectAnswer(label) {
            const question = questions[currentQuestion];
            const correctOption = question.options.find(opt => opt.correct);
            const isCorrect = correctOption && label === correctOption.label;

            if (!answeredQuestions.has(currentQuestion)) {
                answeredQuestions.add(currentQuestion);
                if (isCorrect) {
                    correctCount++;
                } else {
                    incorrectCount++;
                }
            }

            answers[currentQuestion] = label;
            updateStats();
            
            showQuestion(currentQuestion);
        }

        function showFeedback(questionIndex) {
            const question = questions[questionIndex];
            const userAnswer = answers[questionIndex];
            const correctOption = question.options.find(opt => opt.correct);
            const userOption = question.options.find(opt => opt.label === userAnswer);
            const isCorrect = correctOption && userAnswer === correctOption.label;

            const feedbackSection = document.getElementById('feedback-section');
            const feedbackIcon = document.getElementById('feedback-icon');
            const feedbackMessage = document.getElementById('feedback-message');

            if (isCorrect) {
                feedbackSection.className = 'bg-green-50 border border-green-200 mb-8 p-6 rounded-2xl';
                feedbackIcon.textContent = '‚úÖ';
                feedbackMessage.textContent = 'Correct!';
                feedbackMessage.className = 'text-2xl font-bold mb-2 text-green-700';
            } else {
                feedbackSection.className = 'bg-red-50 border border-red-200 mb-8 p-6 rounded-2xl';
                feedbackIcon.textContent = '‚ùå';
                feedbackMessage.textContent = 'Incorrect';
                feedbackMessage.className = 'text-2xl font-bold mb-2 text-red-700';
            }

            document.getElementById('user-answer-display').innerHTML = `<span class="${isCorrect ? 'text-green-600' : 'text-red-600'}">${userAnswer}. ${userOption?.text || 'Unknown'}</span>`;
            document.getElementById('correct-answer-display').textContent = question.correctAnswer;

            const explanationSection = document.getElementById('explanation-section');
            if (question.explanationHTML && question.explanationHTML.trim()) {
                document.getElementById('explanation-content').innerHTML = question.explanationHTML;
                explanationSection.classList.remove('hidden');
            } else {
                explanationSection.classList.add('hidden');
            }

            feedbackSection.classList.remove('hidden');
        }

        function updateStats() {
            const totalAnswered = correctCount + incorrectCount;
            const accuracy = totalAnswered === 0 ? 0 : Math.round((correctCount / totalAnswered) * 100);

            document.getElementById('correct-stats').textContent = correctCount;
            document.getElementById('incorrect-stats').textContent = incorrectCount;
            document.getElementById('accuracy-stats').textContent = `${accuracy}%`;
            document.getElementById('progress-stats').textContent = `${totalAnswered}/${questions.length}`;
        }

        document.getElementById('prev-btn').onclick = () => {
            if (currentQuestion > 0) {
                showQuestion(currentQuestion - 1);
            }
        };
        
        document.getElementById('next-btn').onclick = () => {
            if (currentQuestion < questions.length - 1) {
                showQuestion(currentQuestion + 1);
            }
        };
        
        document.getElementById('finish-btn').onclick = showFinalResults;

        function showFinalResults() {
            if (isTestMode) {
                showTestModeResults();
            } else {
                showNormalModeResults();
            }
        }

        function showTestModeResults() {
            const accuracy = (correctCount + incorrectCount === 0) ? 0 : Math.round((correctCount / (correctCount + incorrectCount)) * 100);

            document.getElementById('quiz-section').classList.add('hidden');
            document.getElementById('test-results').classList.remove('hidden');

            document.getElementById('test-final-correct').textContent = correctCount;
            document.getElementById('test-final-incorrect').textContent = incorrectCount;
            document.getElementById('test-final-accuracy').textContent = `${accuracy}%`;

            let gradeIcon = 'üéØ';
            if (accuracy >= 90) {
                gradeIcon = 'üèÜ';
            } else if (accuracy >= 80) {
                gradeIcon = 'üéâ';
            } else if (accuracy >= 70) {
                gradeIcon = 'üëç';
            } else if (accuracy >= 60) {
                gradeIcon = 'üìö';
            } else {
                gradeIcon = 'üí™';
            }

            document.getElementById('test-grade-icon').textContent = gradeIcon;

            // Show detailed review
            const reviewContainer = document.getElementById('test-review-details');
            reviewContainer.innerHTML = '';

            questions.forEach((question, index) => {
                const userAnswer = answers[index];
                const correctOption = question.options.find(opt => opt.correct);
                const userOption = question.options.find(opt => opt.label === userAnswer);
                const isCorrect = correctOption && userAnswer === correctOption.label;

                const reviewCard = document.createElement('div');
                reviewCard.className = `border-l-4 p-4 bg-white rounded-lg shadow-sm ${isCorrect ? 'border-green-500' : 'border-red-500'}`;
                
                reviewCard.innerHTML = `
                    <div class="flex items-center justify-between mb-2">
                        <h4 class="font-bold text-gray-800">Question ${index + 1}</h4>
                        <span class="text-2xl">${isCorrect ? '‚úÖ' : '‚ùå'}</span>
                    </div>
                    <p class="text-gray-700 mb-3">${question.text}</p>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <strong class="text-gray-600">Your Answer:</strong><br>
                            <span class="${isCorrect ? 'text-green-600' : 'text-red-600'}">${userAnswer}. ${userOption?.text || 'Not answered'}</span>
                        </div>
                        <div>
                            <strong class="text-gray-600">Correct Answer:</strong><br>
                            <span class="text-green-600">${question.correctAnswer}</span>
                        </div>
                    </div>
                    ${question.explanationHTML ? `
                        <div class="mt-3 p-3 bg-blue-50 rounded-lg">
                            <strong class="text-blue-800">Explanation:</strong>
                            <div class="mt-2 explanation-content">${question.explanationHTML}</div>
                        </div>
                    ` : ''}
                `;
                
                reviewContainer.appendChild(reviewCard);
            });
        }

        function showNormalModeResults() {
            const accuracy = (correctCount + incorrectCount === 0) ? 0 : Math.round((correctCount / (correctCount + incorrectCount)) * 100);

            document.getElementById('quiz-section').classList.add('hidden');
            document.getElementById('final-results').classList.remove('hidden');

            document.getElementById('final-correct').textContent = correctCount;
            document.getElementById('final-incorrect').textContent = incorrectCount;
            document.getElementById('final-accuracy').textContent = `${accuracy}%`;

            let gradeIcon = 'üéØ';
            if (accuracy >= 90) {
                gradeIcon = 'üèÜ';
            } else if (accuracy >= 80) {
                gradeIcon = 'üéâ';
            } else if (accuracy >= 70) {
                gradeIcon = 'üëç';
            } else if (accuracy >= 60) {
                gradeIcon = 'üìö';
            } else {
                gradeIcon = 'üí™';
            }

            document.getElementById('final-grade-icon').textContent = gradeIcon;
        }
    </script>
</body>
</html>