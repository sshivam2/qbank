<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>83_ALS and Other Motor Neuron Diseases - Marrow Medicine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .medical-quiz {
            font-family: Segoe UI, Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .question-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .option-card {
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .option-card:hover {
            border-color: #3b82f6;
            transform: translateY(-2px);
        }
        
        .option-card.selected {
            background: #3b82f6;
            color: white;
            border-color: #1d4ed8;
        }
        
        .option-card.correct {
            background: #10b981;
            color: white;
            border-color: #059669;
        }
        
        .option-card.incorrect {
            background: #ef4444;
            color: white;
            border-color: #dc2626;
        }
        
        .progress-bar {
            background: linear-gradient(to right, #10b981, #059669);
            transition: width 0.3s;
        }
        
        .medical-image {
            max-width: 100%;
            max-height: 400px;
            height: auto;
            border-radius: 12px;
            margin: 20px auto;
            display: block;
        }
        
        .hidden {
            display: none !important;
        }

        .explanation-content {
            font-family: Segoe UI, Tahoma, Geneva, Verdana, sans-serif;
            font-size: 1.05rem;
            line-height: 1.7;
            color: #374151;
            text-align: left;
        }
        
        .explanation-content p {
            margin-bottom: 1rem;
            text-align: justify;
        }
        
        .explanation-content strong, .explanation-content b {
            font-weight: 600;
            color: #1f2937;
        }
        
        .explanation-content img {
            max-width: 100%;
            height: auto;
            margin: 1.5rem auto;
            display: block;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen medical-quiz">
    <header class="bg-white shadow-xl p-6">
        <div class="container mx-auto flex justify-between items-center">
            <div>
                <h1 class="text-3xl font-bold text-gray-800">83_ALS and Other Motor Neuron Diseases</h1>
                <p class="text-gray-600 mt-2">Marrow ‚Ä¢ Medicine ‚Ä¢ Interactive Learning</p>
            </div>
            <div class="flex gap-2">
                <button class="bg-gray-500 text-white px-3 py-2 text-sm rounded-lg hover:bg-gray-600 transition" 
                        onclick="window.location.href='marrow_medicine.html'">
                    ‚Üê Topics
                </button>
                <button class="bg-purple-500 text-white px-3 py-2 text-sm rounded-lg hover:bg-purple-600 transition" 
                        onclick="window.location.href='marrow.html'">
                    üìö Marrow
                </button>
                <button class="bg-blue-500 text-white px-3 py-2 text-sm rounded-lg hover:bg-blue-600 transition" 
                        onclick="window.location.href='index.html'">
                    üè† Home
                </button>
            </div>
        </div>
    </header>

    <!-- Statistics Bar (Hidden in Test Mode) -->
    <div class="bg-white shadow-lg p-4" id="stats-bar">
        <div class="container mx-auto flex justify-center gap-8">
            <div class="text-center">
                <div class="text-2xl font-bold text-green-600" id="correct-stats">0</div>
                <div class="text-sm text-gray-600">Correct</div>
            </div>
            <div class="text-center">
                <div class="text-2xl font-bold text-red-600" id="incorrect-stats">0</div>
                <div class="text-sm text-gray-600">Incorrect</div>
            </div>
            <div class="text-center">
                <div class="text-2xl font-bold text-blue-600" id="accuracy-stats">0%</div>
                <div class="text-sm text-gray-600">Accuracy</div>
            </div>
            <div class="text-center">
                <div class="text-2xl font-bold text-purple-600" id="progress-stats">0/11</div>
                <div class="text-sm text-gray-600">Progress</div>
            </div>
        </div>
    </div>

    <!-- Quiz Section -->
    <section class="container mx-auto p-6" id="quiz-section">
        <div class="bg-white rounded-2xl shadow-xl p-8">
            <!-- Progress Bar -->
            <div class="w-full bg-gray-200 rounded-full h-4 mb-8">
                <div class="progress-bar h-4 rounded-full" id="progress-bar"></div>
            </div>

            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold text-blue-700" id="question-number">Question 1 of 11</h2>
                <div class="text-sm text-gray-600" id="question-status">Click an option to answer</div>
            </div>

            <!-- Question Text -->
            <div class="mb-10">
                <div class="question-card text-white p-8 rounded-2xl mb-8" id="question-text"></div>
                
                <!-- Question Image -->
                <div class="text-center mb-8" id="question-images"></div>
                
                <!-- Options -->
                <div class="space-y-4" id="options"></div>
            </div>

            <!-- Answer Feedback Section (Normal Mode Only) -->
            <div class="hidden mb-8 p-6 rounded-2xl" id="feedback-section">
                <div class="text-center mb-4">
                    <div class="text-6xl mb-2" id="feedback-icon"></div>
                    <div class="text-2xl font-bold mb-2" id="feedback-message">Correct!</div>
                </div>
                
                <div class="grid md:grid-cols-2 gap-4 mb-4">
                    <div class="bg-white p-4 rounded-xl border">
                        <strong>Your Answer:</strong><br>
                        <span id="user-answer-display"></span>
                    </div>
                    <div class="bg-white p-4 rounded-xl border">
                        <strong>Correct Answer:</strong><br>
                        <span class="text-green-600" id="correct-answer-display"></span>
                    </div>
                </div>
                
                <div class="bg-blue-50 p-6 rounded-xl" id="explanation-section">
                    <strong class="text-lg text-blue-800">Explanation:</strong>
                    <div id="explanation-content" class="mt-3 explanation-content"></div>
                </div>
            </div>

            <!-- Navigation -->
            <div class="flex justify-between gap-4">
                <button class="bg-gray-400 text-white px-6 py-3 rounded-xl hover:bg-gray-500 transition" 
                        onclick="window.location.href='marrow_medicine.html'">
                    Back to Topics
                </button>
                
                <div class="flex gap-4">
                    <button class="bg-gray-400 text-white px-6 py-3 rounded-xl disabled" id="prev-btn">
                        Previous
                    </button>
                    <button class="bg-blue-500 text-white px-6 py-3 rounded-xl hidden" id="next-btn">
                        Next
                    </button>
                    <button class="bg-green-600 text-white px-6 py-3 rounded-xl font-bold hidden" id="finish-btn">
                        Finish Quiz
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Test Mode Final Results -->
    <section class="container mx-auto p-6 hidden" id="test-results">
        <div class="bg-white rounded-2xl shadow-xl p-8">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold mb-4 text-blue-700">Test Complete! üéâ</h2>
                <div class="text-6xl mb-4" id="test-grade-icon">üéØ</div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-green-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-green-600" id="test-final-correct">0</div>
                    <div class="font-semibold text-green-700">Correct Answers</div>
                </div>
                <div class="bg-red-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-red-600" id="test-final-incorrect">0</div>
                    <div class="font-semibold text-red-700">Incorrect Answers</div>
                </div>
                <div class="bg-blue-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-blue-600" id="test-final-accuracy">0%</div>
                    <div class="font-semibold text-blue-700">Final Accuracy</div>
                </div>
            </div>

            <!-- Detailed Review -->
            <div class="mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-4">üìã Detailed Review</h3>
                <div id="test-review-details" class="space-y-4"></div>
            </div>
            
            <div class="flex justify-center gap-4">
                <button class="bg-purple-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-purple-700 transition" 
                        onclick="window.location.href='marrow_medicine.html'">
                    Back to Topics
                </button>
                <button class="bg-blue-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-blue-700 transition" 
                        onclick="window.location.reload()">
                    Retake Quiz
                </button>
            </div>
        </div>
    </section>

    <!-- Normal Mode Final Results -->
    <section class="container mx-auto p-6 hidden" id="final-results">
        <div class="bg-white rounded-2xl shadow-xl p-8">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold mb-4 text-blue-700">Quiz Complete! üéâ</h2>
                <div class="text-6xl mb-4" id="final-grade-icon">üéØ</div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-green-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-green-600" id="final-correct">0</div>
                    <div class="font-semibold text-green-700">Correct Answers</div>
                </div>
                <div class="bg-red-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-red-600" id="final-incorrect">0</div>
                    <div class="font-semibold text-red-700">Incorrect Answers</div>
                </div>
                <div class="bg-blue-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-blue-600" id="final-accuracy">0%</div>
                    <div class="font-semibold text-blue-700">Final Accuracy</div>
                </div>
            </div>
            
            <div class="flex justify-center gap-4">
                <button class="bg-purple-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-purple-700 transition" 
                        onclick="window.location.href='marrow_medicine.html'">
                    Back to Topics
                </button>
                <button class="bg-blue-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-blue-700 transition" 
                        onclick="window.location.reload()">
                    Retake Quiz
                </button>
            </div>
        </div>
    </section>

    <script>
        const questions = [
  {
    "id": 1540,
    "text": "Q1. Which of the following features are lower motor neuron lesions associated with?",
    "options": [
      {
        "label": "A",
        "text": "Fasciculations",
        "correct": true
      },
      {
        "label": "B",
        "text": "Spasticity",
        "correct": false
      },
      {
        "label": "C",
        "text": "Proximal muscle weakness",
        "correct": false
      },
      {
        "label": "D",
        "text": "Preserved stretch reflexes",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Lower motor neuron lesions are associated with fasciculations.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "83_ALS and Other Motor Neuron Diseases",
    "deck_id": 1755954606220,
    "correctAnswer": "A. Fasciculations"
  },
  {
    "id": 1541,
    "text": "Q2. Which of the following is referred to as bulbar paralysis?",
    "options": [
      {
        "label": "A",
        "text": "UMN palsy of cranial nerves 1 to 6",
        "correct": false
      },
      {
        "label": "B",
        "text": "LMN palsy of cranial nerves 1 to 6",
        "correct": false
      },
      {
        "label": "C",
        "text": "UMN palsy of cranial nerves 9 to 12",
        "correct": false
      },
      {
        "label": "D",
        "text": "LMN palsy of cranial nerves 9 to 12",
        "correct": true
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Bulbar paralysis refers to LMN palsy of cranial nerves 9 to 12. It is seen due to disease processes affecting primarily the motor nuclei of the cranial nerves. The manifestations of bulbar palsy include paralysis of tongue, muscles of swallowing, and facial muscles. There is difficulty handling secretions and maintaining an airway. Causes of bulbar palsy include: * GBS * Polio * Syringobulbia</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "83_ALS and Other Motor Neuron Diseases",
    "deck_id": 1755954606220,
    "correctAnswer": "D. LMN palsy of cranial nerves 9 to 12"
  },
  {
    "id": 1542,
    "text": "Q3. Which type of disorder is primary lateral sclerosis?",
    "options": [
      {
        "label": "A",
        "text": "Isolated UMN disorder",
        "correct": true
      },
      {
        "label": "B",
        "text": "Isolated LMN disorder",
        "correct": false
      },
      {
        "label": "C",
        "text": "UMN + LMN disorder",
        "correct": false
      },
      {
        "label": "D",
        "text": "Isolated bulbar disorder",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Primary lateral sclerosis is a progressive isolated upper motor neuron disorder. The spectrum of motor neuron disease includes: 1237 ¬¢ Amyotrophic lateral sclerosis (ALS): * It is the most common form of motor neuron disease * Includes upper and lower motor neuron pathology (UMN +LMN) * Primary lateral sclerosis: * It is a progressive isolated upper motor neuron disorder (UMN) * Some patients develop lower motor neuron signs later in their clinical course, at which point the disease is called upper motor neuron-onset ALS * Progressive muscular atrophy: * It is a progressive isolated lower motor neuron disorder (LMN) * Some patients develop upper motor neuron signs later in their clinical course, at which point the disease is called lower motor neuron-onset ALS * Progressive bulbar palsy: * It is a progressive upper and lower motor neuron (UMN +LMN) disorder of cranial muscles * This condition may occasionally stay isolated to the bulbar segment, but more commonly, upper and lower motor neuron signs and symptoms spread to involve other segments. This is then referred to as bulbar-onset ALS</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "83_ALS and Other Motor Neuron Diseases",
    "deck_id": 1755954606220,
    "correctAnswer": "A. Isolated UMN disorder"
  },
  {
    "id": 1543,
    "text": "Q4. Which of the following is involved in amyotrophic lateral sclerosis?",
    "options": [
      {
        "label": "A",
        "text": "Anterior horn cell + corticospinal tract",
        "correct": true
      },
      {
        "label": "B",
        "text": "Anterior horn cell + spinothalamic tract",
        "correct": false
      },
      {
        "label": "C",
        "text": "Posterior horn cell + corticospinal tract 1234",
        "correct": false
      },
      {
        "label": "D",
        "text": "Ventral root ganglia + spinothalamic tract",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Amyotrophic lateral sclerosis (ALS) involves the anterior horn cells and corticospinal tract. ALS is the most common form of progressive motor neuron disease. The pathologic hallmark of motor neuron degenerative disorders is the death of lower motor neurons and upper, or corticospinal, motor neurons. LMN consist of anterior horn cells in the spinal cord and their brainstem homologs innervating bulbar muscles. UMN originate in layer five of the motor cortex and descend via the pyramidal tract to synapse with lower motor neurons, either directly or indirectly via interneurons. Although at its onset, ALS may cause selective loss of function of only upper or lower motor neurons, it ultimately causes progressive loss of both categories of motor neurons.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "83_ALS and Other Motor Neuron Diseases",
    "deck_id": 1755954606220,
    "correctAnswer": "A. Anterior horn cell + corticospinal tract"
  },
  {
    "id": 1544,
    "text": "Q5. middle-aged man presents with progressive atrophy and weakness of his hands and forearms. On examination, he is found to have spasticity of the legs and brisk jaw jerk. Neuroimaging revealed increased signal in the corticospinal tracts on T2 weighted MRI. What is the most likely diagnosis?",
    "options": [
      {
        "label": "A",
        "text": "Multiple sclerosis",
        "correct": false
      },
      {
        "label": "B",
        "text": "Amyotrophic lateral sclerosis",
        "correct": true
      },
      {
        "label": "C",
        "text": "Subacute combined degeneration",
        "correct": false
      },
      {
        "label": "D",
        "text": "Pregressive spinal muscular atrophy",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">The most likely diagnosis is amyotrophic lateral sclerosis (ALS). The clinical hallmark of ALS is the presence of signs and symptoms of both upper and lower motor neuron (UMN + LMN) dysfunction. The signs of UMN dysfunction include spasticity and brisk jaw jerk, while the signs of LMN dysfunction include atrophy and weakness of limbs. Conventional MRI is usually normal in ALS and is used to exclude other possible causes although increased signal in the corticospinal tracts on T2-weighted MRI is supportive of the diagnosis of ALS. 1238</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "83_ALS and Other Motor Neuron Diseases",
    "deck_id": 1755954606220,
    "correctAnswer": "B. Amyotrophic lateral sclerosis"
  },
  {
    "id": 1545,
    "text": "Q6. young college student presents with multiple episodes of falls while climbing stairs. He stated he had been feeling clumsy and weak for the past few months. On examination, he was found to have bilateral positive Babinski&apos;s sign and atrophy of muscles of lower limbs. Deep tendon reflexes were absent. What is the likely diagnosis?",
    "options": [
      {
        "label": "A",
        "text": "Kennedy disease",
        "correct": false
      },
      {
        "label": "B",
        "text": "Lou Gehrig&apos;s disease",
        "correct": true
      },
      {
        "label": "C",
        "text": "Pelizaeus‚ÄîMerzbacher disease",
        "correct": false
      },
      {
        "label": "D",
        "text": "Charcot-Marie-tooth disease",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">The given scenario with both UMN (positive Babinski sign) and LMN (absent reflexes and wasting of muscles) signs are suggestive of amyotrophic lateral sclerosis (ALS). It is also known as Lou Gehrig's disease, after the famous New York Yankee baseball player who was affected with the disorder. ALS was first described by Charcot in the 19th century and is also referred to as Charcot's disease. Option A: Kennedy disease is a gradually progressive neuromuscular disorder characterised by wasting of proximal and bulbar muscles. It is caused by a mutation in the androgen receptor gene. Option C: Pelizaeus‚ÄîMerzbacher disease is an inherited leukodystrophy characterized by problems with coordination, motor skills, and learning. Option D: Charcot-Marie-tooth disease encompasses a group of hereditary sensory and motor neuropathies.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "83_ALS and Other Motor Neuron Diseases",
    "deck_id": 1755954606220,
    "correctAnswer": "B. Lou Gehrig&apos;s disease"
  },
  {
    "id": 1546,
    "text": "Q7. 42-year-old man who presented with progressive weakness was found to have a mix of upper and lower motor neuron findings on examination. His father and his cousin had passed away in their 40s due to similar symptoms. A mutation of the gene encoding which of the following enzymes is likely implicated here?",
    "options": [
      {
        "label": "A",
        "text": "Superoxide dismutase",
        "correct": true
      },
      {
        "label": "B",
        "text": "NADPH oxidase",
        "correct": false
      },
      {
        "label": "C",
        "text": "Myeloperoxidase",
        "correct": false
      },
      {
        "label": "D",
        "text": "Glutathione peroxidase 1235",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">The given scenario is suggestive of familial amyotrophic lateral sclerosis. This condition is linked to mutations of the gene encoding copper-zinc (Cu, Zn) superoxide dismutase type 1 (SOD1). Familial ALS accounts for about 10% of all ALS cases. Option B: Mutations in the NADPH oxidase genes cause chronic granulomatous disease (CGD). Option C: Hereditary deficiency of myeloperoxidase (MPO) predisposes to immune deficiency. Option D: Glutathione peroxidase deficiency leads to hemolytic anemia.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "83_ALS and Other Motor Neuron Diseases",
    "deck_id": 1755954606220,
    "correctAnswer": "A. Superoxide dismutase"
  },
  {
    "id": 1547,
    "text": "Q8. All of the following features can be seen in patients with amyotrophic lateral sclerosis, except:",
    "options": [
      {
        "label": "A",
        "text": "Split-hand syndrome",
        "correct": false
      },
      {
        "label": "B",
        "text": "Orthostatic hypotension",
        "correct": true
      },
      {
        "label": "C",
        "text": "Frontotemporal dementia",
        "correct": false
      },
      {
        "label": "D",
        "text": "Dropped head syndrome",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Orthostatic hypotension is not a feature seen in classical ALS. Autonomic symptoms are not classically seen in ALS, although a few cases with autonomic insufficiency have been reported and these are classified separately as ALS-plus syndromes. Option A: The split-hand syndrome describes a frequent pattern of weakness and atrophy in ALS that predominantly involves the median and ulnar-innervated lateral (thenar) hand intrinsic muscles with relative sparing of the medial (hypothenar) muscles. Option C: There is a well-established link between ALS and frontotemporal executive dysfunction (dementia) that may precede or follow the onset of upper and/or lower motor neuron dysfunction Option D: Dropped head syndrome is an important clinical sign in ALS caused by severe neck extensor weakness (LMN), which leads to an inability to maintain level head position. 1239</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "83_ALS and Other Motor Neuron Diseases",
    "deck_id": 1755954606220,
    "correctAnswer": "B. Orthostatic hypotension"
  },
  {
    "id": 1548,
    "text": "Q9. Which of the following patients is unlikely to have amyotrophic lateral sclerosis?",
    "options": [
      {
        "label": "A",
        "text": "A patient with difficulty in swallowing",
        "correct": false
      },
      {
        "label": "B",
        "text": "A patient who has spastic dysarthria",
        "correct": false
      },
      {
        "label": "C",
        "text": "A patient who starts laughing or crying inappropriately",
        "correct": false
      },
      {
        "label": "D",
        "text": "A patient with bowel and bladder dysfunction",
        "correct": true
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">The patient with bowel and bladder dysfunction is unlikely to have ALS as these findings are not seen in ALS. Even in the late stages of the ALS, sensory &amp;amp; bowel &amp;amp; bladder functions are preserved. Fasciculations, muscle cramps, weakness, atrophy, and bulbar palsy are LMN features seen in ALS. Spasticity, increased reflexes, flexor spasms, and pseudobulbar palsy are UMN features in ALS. A frequent bulbar UMN symptom seen in ALS is the pseudobulbar affect. This is manifested as inappropriate laughing, crying, or yawning. The observed affect is often mood incongruent or may be triggered by stimuli that would not have elicited such a response prior to the development of pseudobulbar affect.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "83_ALS and Other Motor Neuron Diseases",
    "deck_id": 1755954606220,
    "correctAnswer": "D. A patient with bowel and bladder dysfunction"
  },
  {
    "id": 1549,
    "text": "Q10. What is the diagnosis of amyotrophic lateral sclerosis predominantly based on?",
    "options": [
      {
        "label": "A",
        "text": "MRI findings",
        "correct": false
      },
      {
        "label": "B",
        "text": "CSF analysis findings",
        "correct": false
      },
      {
        "label": "C",
        "text": "Muscle biopsy findings",
        "correct": false
      },
      {
        "label": "D",
        "text": "Clinical criteria",
        "correct": true
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">The diagnosis of ALS is based on clinical criteria that include the presence of upper motor neuron and lower motor neuron signs, the progression of the disease, and the absence of an alternative explanation. There is no single diagnostic test that can confirm or entirely exclude the diagnosis of motor neuron disease in general and amyotrophic lateral sclerosis (ALS) in particular. The revised El Escorial criteria and, more recently, the newer Awaji criteria are being used for the diagnosis of ALS. Practically, the diagnosis is made when it is suggested by the history and physical examination, supported by electrodiagnostic studies (EMG &amp;amp; NCS), and not excluded by neuroimaging (MRI) and laboratory studies (CSF, blood, and urine analysis). Increased signal in the corticospinal tracts on T2-weighted MRI, if seen, is supportive of the diagnosis of ALS Muscle biopsy is not a routine part of the diagnostic evaluation of ALS but should be performed if there is clinical suspicion of inflammatory myopathy. Genetic testing is not a routine part of the diagnostic evaluation in ALS except in cases where familial ALS (10%) is suspected.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "83_ALS and Other Motor Neuron Diseases",
    "deck_id": 1755954606220,
    "correctAnswer": "D. Clinical criteria"
  },
  {
    "id": 1550,
    "text": "Q11. Which of the following is the only drug known to improve survival in patients with amyotrophic lateral sclerosis?",
    "options": [
      {
        "label": "A",
        "text": "Fingolimod",
        "correct": false
      },
      {
        "label": "B",
        "text": "Riluzole",
        "correct": true
      },
      {
        "label": "C",
        "text": "Tocilizumab",
        "correct": false
      },
      {
        "label": "D",
        "text": "Rotigotine 1236 ee ee ee ee ee ee ee ee ee ee ee ee es ee ee ee ee ee ee Detailed Explanations Solution to Question 1: Lower motor neuron lesions are associated with fasciculations. Solution to Question 2: Bulbar paralysis refers to LMN palsy of cranial nerves 9 to 12. It is seen due to disease processes affecting primarily the motor nuclei of the cranial nerves. The manifestations of bulbar palsy include paralysis of tongue, muscles of swallowing, and facial muscles. There is difficulty handling secretions and maintaining an airway. Causes of bulbar palsy include: * GBS * Polio * Syringobulbia Solution to Question 3: Primary lateral sclerosis is a progressive isolated upper motor neuron disorder. The spectrum of motor neuron disease includes: 1237",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Among the given options, riluzole is the only known drug to have any impact on survival in ALS. It can slow ALS progression to a modest degree. It is a neuroprotective drug that blocks glutamatergic neurotransmission in the CNS. Edaravone is a newer drug that is a free radical scavenger. It is thought to reduce oxidative stress, which has been implicated in the pathogenesis of ALS. Edaravone was found to slow functional deterioration in some patients with ALS. It is recommended as an adjunct to riluzole for all patients with ALS. 1240 1241</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "83_ALS and Other Motor Neuron Diseases",
    "deck_id": 1755954606220,
    "correctAnswer": "B. Riluzole"
  }
];
        let currentQuestion = 0;
        let answers = [];
        let correctCount = 0;
        let incorrectCount = 0;
        let answeredQuestions = new Set();
        let isTestMode = localStorage.getItem('testMode') === 'true' || false;

        console.log('Quiz loaded with', questions.length, 'questions');
        console.log('Test mode:', isTestMode);

        // Hide stats bar if test mode is enabled
        if (isTestMode) {
            document.addEventListener('DOMContentLoaded', () => {
                document.getElementById('stats-bar').style.display = 'none';
            });
        }

        // Auto-start quiz
        startQuiz();

        function startQuiz() {
            answers = new Array(questions.length).fill(null);
            correctCount = 0;
            incorrectCount = 0;
            answeredQuestions = new Set();
            currentQuestion = 0;
            showQuestion(0);
            updateStats();
        }

        function showQuestion(index) {
            currentQuestion = index;
            const question = questions[index];

            document.getElementById('question-number').textContent = `Question ${index + 1} of ${questions.length}`;
            document.getElementById('question-text').innerHTML = question.text;
            document.getElementById('question-status').textContent = answers[index] ? 'Question answered' : 'Click an option to answer';

            const imagesContainer = document.getElementById('question-images');
            imagesContainer.innerHTML = '';

            if (question.imageData) {
                const img = document.createElement('img');
                img.src = `data:${question.imageData.mime};base64,${question.imageData.data}`;
                img.className = 'medical-image';
                img.alt = 'Medical Question Image';
                imagesContainer.appendChild(img);
            }

            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';

            question.options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-card w-full p-6 text-left bg-white rounded-xl shadow-lg';
                button.innerHTML = `<span class="font-bold text-blue-600 mr-4">${option.label}.</span>${option.text}`;

                if (!isTestMode && answers[index] !== null) {
                    button.disabled = true;
                    if (option.correct) {
                        button.classList.add('correct');
                    } else if (answers[index] === option.label) {
                        button.classList.add('incorrect');
                    }
                } else {
                    button.onclick = () => selectAnswer(option.label);
                }

                if (answers[index] === option.label) {
                    button.classList.add('selected');
                }

                optionsContainer.appendChild(button);
            });

            // Show feedback only in normal mode and if answered
            if (!isTestMode && answers[index] !== null) {
                showFeedback(index);
            } else {
                document.getElementById('feedback-section').classList.add('hidden');
            }

            document.getElementById('prev-btn').disabled = index === 0;

            if (answers[index] !== null) {
                if (index === questions.length - 1) {
                    document.getElementById('next-btn').classList.add('hidden');
                    document.getElementById('finish-btn').classList.remove('hidden');
                } else {
                    document.getElementById('next-btn').classList.remove('hidden');
                    document.getElementById('finish-btn').classList.add('hidden');
                }
            } else {
                document.getElementById('next-btn').classList.add('hidden');
                document.getElementById('finish-btn').classList.add('hidden');
            }

            const progress = ((index + 1) / questions.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
        }

        function selectAnswer(label) {
            const question = questions[currentQuestion];
            const correctOption = question.options.find(opt => opt.correct);
            const isCorrect = correctOption && label === correctOption.label;

            if (!answeredQuestions.has(currentQuestion)) {
                answeredQuestions.add(currentQuestion);
                if (isCorrect) {
                    correctCount++;
                } else {
                    incorrectCount++;
                }
            }

            answers[currentQuestion] = label;
            updateStats();
            
            showQuestion(currentQuestion);
        }

        function showFeedback(questionIndex) {
            const question = questions[questionIndex];
            const userAnswer = answers[questionIndex];
            const correctOption = question.options.find(opt => opt.correct);
            const userOption = question.options.find(opt => opt.label === userAnswer);
            const isCorrect = correctOption && userAnswer === correctOption.label;

            const feedbackSection = document.getElementById('feedback-section');
            const feedbackIcon = document.getElementById('feedback-icon');
            const feedbackMessage = document.getElementById('feedback-message');

            if (isCorrect) {
                feedbackSection.className = 'bg-green-50 border border-green-200 mb-8 p-6 rounded-2xl';
                feedbackIcon.textContent = '‚úÖ';
                feedbackMessage.textContent = 'Correct!';
                feedbackMessage.className = 'text-2xl font-bold mb-2 text-green-700';
            } else {
                feedbackSection.className = 'bg-red-50 border border-red-200 mb-8 p-6 rounded-2xl';
                feedbackIcon.textContent = '‚ùå';
                feedbackMessage.textContent = 'Incorrect';
                feedbackMessage.className = 'text-2xl font-bold mb-2 text-red-700';
            }

            document.getElementById('user-answer-display').innerHTML = `<span class="${isCorrect ? 'text-green-600' : 'text-red-600'}">${userAnswer}. ${userOption?.text || 'Unknown'}</span>`;
            document.getElementById('correct-answer-display').textContent = question.correctAnswer;

            const explanationSection = document.getElementById('explanation-section');
            if (question.explanationHTML && question.explanationHTML.trim()) {
                document.getElementById('explanation-content').innerHTML = question.explanationHTML;
                explanationSection.classList.remove('hidden');
            } else {
                explanationSection.classList.add('hidden');
            }

            feedbackSection.classList.remove('hidden');
        }

        function updateStats() {
            const totalAnswered = correctCount + incorrectCount;
            const accuracy = totalAnswered === 0 ? 0 : Math.round((correctCount / totalAnswered) * 100);

            document.getElementById('correct-stats').textContent = correctCount;
            document.getElementById('incorrect-stats').textContent = incorrectCount;
            document.getElementById('accuracy-stats').textContent = `${accuracy}%`;
            document.getElementById('progress-stats').textContent = `${totalAnswered}/${questions.length}`;
        }

        document.getElementById('prev-btn').onclick = () => {
            if (currentQuestion > 0) {
                showQuestion(currentQuestion - 1);
            }
        };
        
        document.getElementById('next-btn').onclick = () => {
            if (currentQuestion < questions.length - 1) {
                showQuestion(currentQuestion + 1);
            }
        };
        
        document.getElementById('finish-btn').onclick = showFinalResults;

        function showFinalResults() {
            if (isTestMode) {
                showTestModeResults();
            } else {
                showNormalModeResults();
            }
        }

        function showTestModeResults() {
            const accuracy = (correctCount + incorrectCount === 0) ? 0 : Math.round((correctCount / (correctCount + incorrectCount)) * 100);

            document.getElementById('quiz-section').classList.add('hidden');
            document.getElementById('test-results').classList.remove('hidden');

            document.getElementById('test-final-correct').textContent = correctCount;
            document.getElementById('test-final-incorrect').textContent = incorrectCount;
            document.getElementById('test-final-accuracy').textContent = `${accuracy}%`;

            let gradeIcon = 'üéØ';
            if (accuracy >= 90) {
                gradeIcon = 'üèÜ';
            } else if (accuracy >= 80) {
                gradeIcon = 'üéâ';
            } else if (accuracy >= 70) {
                gradeIcon = 'üëç';
            } else if (accuracy >= 60) {
                gradeIcon = 'üìö';
            } else {
                gradeIcon = 'üí™';
            }

            document.getElementById('test-grade-icon').textContent = gradeIcon;

            // Show detailed review
            const reviewContainer = document.getElementById('test-review-details');
            reviewContainer.innerHTML = '';

            questions.forEach((question, index) => {
                const userAnswer = answers[index];
                const correctOption = question.options.find(opt => opt.correct);
                const userOption = question.options.find(opt => opt.label === userAnswer);
                const isCorrect = correctOption && userAnswer === correctOption.label;

                const reviewCard = document.createElement('div');
                reviewCard.className = `border-l-4 p-4 bg-white rounded-lg shadow-sm ${isCorrect ? 'border-green-500' : 'border-red-500'}`;
                
                reviewCard.innerHTML = `
                    <div class="flex items-center justify-between mb-2">
                        <h4 class="font-bold text-gray-800">Question ${index + 1}</h4>
                        <span class="text-2xl">${isCorrect ? '‚úÖ' : '‚ùå'}</span>
                    </div>
                    <p class="text-gray-700 mb-3">${question.text}</p>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <strong class="text-gray-600">Your Answer:</strong><br>
                            <span class="${isCorrect ? 'text-green-600' : 'text-red-600'}">${userAnswer}. ${userOption?.text || 'Not answered'}</span>
                        </div>
                        <div>
                            <strong class="text-gray-600">Correct Answer:</strong><br>
                            <span class="text-green-600">${question.correctAnswer}</span>
                        </div>
                    </div>
                    ${question.explanationHTML ? `
                        <div class="mt-3 p-3 bg-blue-50 rounded-lg">
                            <strong class="text-blue-800">Explanation:</strong>
                            <div class="mt-2 explanation-content">${question.explanationHTML}</div>
                        </div>
                    ` : ''}
                `;
                
                reviewContainer.appendChild(reviewCard);
            });
        }

        function showNormalModeResults() {
            const accuracy = (correctCount + incorrectCount === 0) ? 0 : Math.round((correctCount / (correctCount + incorrectCount)) * 100);

            document.getElementById('quiz-section').classList.add('hidden');
            document.getElementById('final-results').classList.remove('hidden');

            document.getElementById('final-correct').textContent = correctCount;
            document.getElementById('final-incorrect').textContent = incorrectCount;
            document.getElementById('final-accuracy').textContent = `${accuracy}%`;

            let gradeIcon = 'üéØ';
            if (accuracy >= 90) {
                gradeIcon = 'üèÜ';
            } else if (accuracy >= 80) {
                gradeIcon = 'üéâ';
            } else if (accuracy >= 70) {
                gradeIcon = 'üëç';
            } else if (accuracy >= 60) {
                gradeIcon = 'üìö';
            } else {
                gradeIcon = 'üí™';
            }

            document.getElementById('final-grade-icon').textContent = gradeIcon;
        }
    </script>
</body>
</html>