<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>30_Attention-Deficit Disorders and Disruptive Beha... - Marrow Psychiatry</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .medical-quiz {
            font-family: Segoe UI, Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .question-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .option-card {
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .option-card:hover {
            border-color: #3b82f6;
            transform: translateY(-2px);
        }
        
        .option-card.selected {
            background: #3b82f6;
            color: white;
            border-color: #1d4ed8;
        }
        
        .option-card.correct {
            background: #10b981;
            color: white;
            border-color: #059669;
        }
        
        .option-card.incorrect {
            background: #ef4444;
            color: white;
            border-color: #dc2626;
        }
        
        .progress-bar {
            background: linear-gradient(to right, #10b981, #059669);
            transition: width 0.3s;
        }
        
        .medical-image {
            max-width: 100%;
            max-height: 400px;
            height: auto;
            border-radius: 12px;
            margin: 20px auto;
            display: block;
        }
        
        .hidden {
            display: none !important;
        }

        .explanation-content {
            font-family: Segoe UI, Tahoma, Geneva, Verdana, sans-serif;
            font-size: 1.05rem;
            line-height: 1.7;
            color: #374151;
            text-align: left;
        }
        
        .explanation-content p {
            margin-bottom: 1rem;
            text-align: justify;
        }
        
        .explanation-content strong, .explanation-content b {
            font-weight: 600;
            color: #1f2937;
        }
        
        .explanation-content img {
            max-width: 100%;
            height: auto;
            margin: 1.5rem auto;
            display: block;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen medical-quiz">
    <header class="bg-white shadow-xl p-6">
        <div class="container mx-auto flex justify-between items-center">
            <div>
                <h1 class="text-3xl font-bold text-gray-800">30_Attention-Deficit Disorders and Disruptive Beha...</h1>
                <p class="text-gray-600 mt-2">Marrow ‚Ä¢ Psychiatry ‚Ä¢ Interactive Learning</p>
            </div>
            <div class="flex gap-2">
                <button class="bg-gray-500 text-white px-3 py-2 text-sm rounded-lg hover:bg-gray-600 transition" 
                        onclick="window.location.href='marrow_psychiatry.html'">
                    ‚Üê Topics
                </button>
                <button class="bg-purple-500 text-white px-3 py-2 text-sm rounded-lg hover:bg-purple-600 transition" 
                        onclick="window.location.href='marrow.html'">
                    üìö Marrow
                </button>
                <button class="bg-blue-500 text-white px-3 py-2 text-sm rounded-lg hover:bg-blue-600 transition" 
                        onclick="window.location.href='index.html'">
                    üè† Home
                </button>
            </div>
        </div>
    </header>

    <!-- Statistics Bar (Hidden in Test Mode) -->
    <div class="bg-white shadow-lg p-4" id="stats-bar">
        <div class="container mx-auto flex justify-center gap-8">
            <div class="text-center">
                <div class="text-2xl font-bold text-green-600" id="correct-stats">0</div>
                <div class="text-sm text-gray-600">Correct</div>
            </div>
            <div class="text-center">
                <div class="text-2xl font-bold text-red-600" id="incorrect-stats">0</div>
                <div class="text-sm text-gray-600">Incorrect</div>
            </div>
            <div class="text-center">
                <div class="text-2xl font-bold text-blue-600" id="accuracy-stats">0%</div>
                <div class="text-sm text-gray-600">Accuracy</div>
            </div>
            <div class="text-center">
                <div class="text-2xl font-bold text-purple-600" id="progress-stats">0/9</div>
                <div class="text-sm text-gray-600">Progress</div>
            </div>
        </div>
    </div>

    <!-- Quiz Section -->
    <section class="container mx-auto p-6" id="quiz-section">
        <div class="bg-white rounded-2xl shadow-xl p-8">
            <!-- Progress Bar -->
            <div class="w-full bg-gray-200 rounded-full h-4 mb-8">
                <div class="progress-bar h-4 rounded-full" id="progress-bar"></div>
            </div>

            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold text-blue-700" id="question-number">Question 1 of 9</h2>
                <div class="text-sm text-gray-600" id="question-status">Click an option to answer</div>
            </div>

            <!-- Question Text -->
            <div class="mb-10">
                <div class="question-card text-white p-8 rounded-2xl mb-8" id="question-text"></div>
                
                <!-- Question Image -->
                <div class="text-center mb-8" id="question-images"></div>
                
                <!-- Options -->
                <div class="space-y-4" id="options"></div>
            </div>

            <!-- Answer Feedback Section (Normal Mode Only) -->
            <div class="hidden mb-8 p-6 rounded-2xl" id="feedback-section">
                <div class="text-center mb-4">
                    <div class="text-6xl mb-2" id="feedback-icon"></div>
                    <div class="text-2xl font-bold mb-2" id="feedback-message">Correct!</div>
                </div>
                
                <div class="grid md:grid-cols-2 gap-4 mb-4">
                    <div class="bg-white p-4 rounded-xl border">
                        <strong>Your Answer:</strong><br>
                        <span id="user-answer-display"></span>
                    </div>
                    <div class="bg-white p-4 rounded-xl border">
                        <strong>Correct Answer:</strong><br>
                        <span class="text-green-600" id="correct-answer-display"></span>
                    </div>
                </div>
                
                <div class="bg-blue-50 p-6 rounded-xl" id="explanation-section">
                    <strong class="text-lg text-blue-800">Explanation:</strong>
                    <div id="explanation-content" class="mt-3 explanation-content"></div>
                </div>
            </div>

            <!-- Navigation -->
            <div class="flex justify-between gap-4">
                <button class="bg-gray-400 text-white px-6 py-3 rounded-xl hover:bg-gray-500 transition" 
                        onclick="window.location.href='marrow_psychiatry.html'">
                    Back to Topics
                </button>
                
                <div class="flex gap-4">
                    <button class="bg-gray-400 text-white px-6 py-3 rounded-xl disabled" id="prev-btn">
                        Previous
                    </button>
                    <button class="bg-blue-500 text-white px-6 py-3 rounded-xl hidden" id="next-btn">
                        Next
                    </button>
                    <button class="bg-green-600 text-white px-6 py-3 rounded-xl font-bold hidden" id="finish-btn">
                        Finish Quiz
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Test Mode Final Results -->
    <section class="container mx-auto p-6 hidden" id="test-results">
        <div class="bg-white rounded-2xl shadow-xl p-8">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold mb-4 text-blue-700">Test Complete! üéâ</h2>
                <div class="text-6xl mb-4" id="test-grade-icon">üéØ</div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-green-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-green-600" id="test-final-correct">0</div>
                    <div class="font-semibold text-green-700">Correct Answers</div>
                </div>
                <div class="bg-red-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-red-600" id="test-final-incorrect">0</div>
                    <div class="font-semibold text-red-700">Incorrect Answers</div>
                </div>
                <div class="bg-blue-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-blue-600" id="test-final-accuracy">0%</div>
                    <div class="font-semibold text-blue-700">Final Accuracy</div>
                </div>
            </div>

            <!-- Detailed Review -->
            <div class="mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-4">üìã Detailed Review</h3>
                <div id="test-review-details" class="space-y-4"></div>
            </div>
            
            <div class="flex justify-center gap-4">
                <button class="bg-purple-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-purple-700 transition" 
                        onclick="window.location.href='marrow_psychiatry.html'">
                    Back to Topics
                </button>
                <button class="bg-blue-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-blue-700 transition" 
                        onclick="window.location.reload()">
                    Retake Quiz
                </button>
            </div>
        </div>
    </section>

    <!-- Normal Mode Final Results -->
    <section class="container mx-auto p-6 hidden" id="final-results">
        <div class="bg-white rounded-2xl shadow-xl p-8">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold mb-4 text-blue-700">Quiz Complete! üéâ</h2>
                <div class="text-6xl mb-4" id="final-grade-icon">üéØ</div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-green-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-green-600" id="final-correct">0</div>
                    <div class="font-semibold text-green-700">Correct Answers</div>
                </div>
                <div class="bg-red-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-red-600" id="final-incorrect">0</div>
                    <div class="font-semibold text-red-700">Incorrect Answers</div>
                </div>
                <div class="bg-blue-100 p-6 rounded-2xl text-center">
                    <div class="text-4xl font-bold text-blue-600" id="final-accuracy">0%</div>
                    <div class="font-semibold text-blue-700">Final Accuracy</div>
                </div>
            </div>
            
            <div class="flex justify-center gap-4">
                <button class="bg-purple-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-purple-700 transition" 
                        onclick="window.location.href='marrow_psychiatry.html'">
                    Back to Topics
                </button>
                <button class="bg-blue-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-blue-700 transition" 
                        onclick="window.location.reload()">
                    Retake Quiz
                </button>
            </div>
        </div>
    </section>

    <script>
        const questions = [
  {
    "id": 392,
    "text": "Q1. Which of these disorders was earlier known as minimal brain dysfunction?",
    "options": [
      {
        "label": "A",
        "text": "Dyslexia",
        "correct": false
      },
      {
        "label": "B",
        "text": "Attention deficit/hyperactivity disorder",
        "correct": true
      },
      {
        "label": "C",
        "text": "Mental subnormality",
        "correct": false
      },
      {
        "label": "D",
        "text": "Oligophrenia",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Attention deficit/hyperactivity disorder (ADHD) was known as minimal brain dysfunction earlier.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "30_Attention-Deficit Disorders and Disruptive Beha...",
    "deck_id": 1755954606508,
    "correctAnswer": "B. Attention deficit/hyperactivity disorder"
  },
  {
    "id": 393,
    "text": "Q2. Which of the following is the most common symptom of ADHD?",
    "options": [
      {
        "label": "A",
        "text": "Attention deficit",
        "correct": false
      },
      {
        "label": "B",
        "text": "Hyperactivity",
        "correct": true
      },
      {
        "label": "C",
        "text": "Impulsivity",
        "correct": false
      },
      {
        "label": "D",
        "text": "Specific learning disabilities",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">The most common symptom of ADHD is hyperactivity. 331 The most cited characteristics of children with attention-deficit/hyperactivity disorder (ADHD), in order of frequency, are as follows: * Hyperactivity (fidgety, unable to sit still, as though driven by a motor, hyper-talkative, interrupts, blurts out answers) ¬¢ Attention deficit (short attention span, distractibility, perseveration, failure to finish tasks, inattention, poor concentration) * Impulsivity (action before thought, abrupt shifts in activity, lack of organization, jumping up in class) * Memory and thinking deficits. Intellectual disability is not seen in ADHD. * Specific learning disabilities * Speech and hearing deficits</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "30_Attention-Deficit Disorders and Disruptive Beha...",
    "deck_id": 1755954606508,
    "correctAnswer": "B. Hyperactivity"
  },
  {
    "id": 394,
    "text": "Q3. 10-year-old girl with academic and behavioral problems at school over the past year was diagnosed with attention-deficit hyperactivity disorder. On neuroimaging, which of the following is most likely to be seen?",
    "options": [
      {
        "label": "A",
        "text": "Pathologic alterations in the frontal lobe",
        "correct": false
      },
      {
        "label": "B",
        "text": "Structural anomalies in the frontal lobe",
        "correct": false
      },
      {
        "label": "C",
        "text": "Hypometabolism in the frontal lobe",
        "correct": true
      },
      {
        "label": "D",
        "text": "Lesion in the Ascending Reticular Activating System",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Functional neuroimaging studies show frontal lobe hypometabolism in patients with ADHD. The frontal lobe maintains attention, arousal, or the establishment and maintenance of an awake state. This appears to require at least three brain regions: ¬´ Ascending reticular activating system (ARAS) * Intralaminar nuclei of the thalamus * Frontal lobes In ADHD, although no specific pathological lesions are found in the ARAS, thalamic or cortical level, functional neuroimaging indicates frontal lobe hypometabolism.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "30_Attention-Deficit Disorders and Disruptive Beha...",
    "deck_id": 1755954606508,
    "correctAnswer": "C. Hypometabolism in the frontal lobe"
  },
  {
    "id": 395,
    "text": "Q4. During a parent-teacher meeting, the teacher informs the parents that she is unable to manage their child&apos;s impulsive and inattentive behaviors in the classroom. Which of the 328 following is not a sign of inattention in the child?",
    "options": [
      {
        "label": "A",
        "text": "Easy distraction by extraneous stimuli",
        "correct": false
      },
      {
        "label": "B",
        "text": "Does not seem to listen when spoken to directly",
        "correct": false
      },
      {
        "label": "C",
        "text": "Often leaving his seat in situations when remaining seated is expected",
        "correct": true
      },
      {
        "label": "D",
        "text": "Frequent forgetfulness in daily activities",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">Often leaving the seat in situations when remaining seated is expected, is not a sign of inattention but a sign of hyperactivity and impulsivity. Signs of inattention: * Fails to give close attention to details or makes careless mistakes. * Has difficulty sustaining attention in tasks or play activities. * Does not seem to listen when spoken to directly. * Does not follow through on instructions. * Has difficulty organizing tasks and activities. * Avoids, dislikes, or is reluctant to engage in tasks that require sustained mental effort. * Loses things necessary for tasks or activities. * Is easily distracted by extraneous stimuli. 332 * Often forgetful in daily activities. Signs of Hyperactivity and impulsivity: * Fidgets with or taps hands or feet or squirms in seat. * Leaves seat in situations when remaining seated is expected. * Runs about or climbs in situations where it is inappropriate. * Unable to play or engage in leisure activities quietly. * Often on the go, acting as if driven by a motor. * Often talks excessively. * Often blurts out an answer before a question has been completed. * Has difficulty waiting his or her turn. ¬¢ Often interrupts or intrudes on others.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "30_Attention-Deficit Disorders and Disruptive Beha...",
    "deck_id": 1755954606508,
    "correctAnswer": "C. Often leaving his seat in situations when remaining seated is expected"
  },
  {
    "id": 396,
    "text": "Q5. According to DSM-5, which of the following is not a type of presentation of attention deficit hyperactivity disorder?",
    "options": [
      {
        "label": "A",
        "text": "Predominantly inattentive",
        "correct": false
      },
      {
        "label": "B",
        "text": "Predominantly hyperactive",
        "correct": false
      },
      {
        "label": "C",
        "text": "Fluctuating presentation",
        "correct": true
      },
      {
        "label": "D",
        "text": "Combined presentation",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">According to the DSM-V, attention deficit and hyperactivity disorder (ADHD) is diagnosed with one of three specifiers ‚Äî predominantly inattentive, predominantly hyperactive/impulsive, or combined presentation with features of both. For a diagnosis of ADHD, the following criteria have to be satisfied: * 6 out of 9 symptoms of inattention and/or hyperactivity with impulsivity have to be present for at least 6 months. * Symptoms should have started before the age of 12 years. ¬¢ Symptoms must be present at least in two settings, such as home, school, work, etc. ¬¢ Symptoms must have a negative impact on social and academic/occupational functioning. ¬¢ Symptoms don‚Äôt occur exclusively during the course of a psychotic disorder and aren‚Äôt explained by any other mental disorder. Note: For adults and adolescents aged 17 or older, 5 out of 9 symptoms are adequate for diagnosis.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "30_Attention-Deficit Disorders and Disruptive Beha...",
    "deck_id": 1755954606508,
    "correctAnswer": "C. Fluctuating presentation"
  },
  {
    "id": 397,
    "text": "Q6. 9-year-old child does not follow instructions, is disruptive, interferes when two people are talking, and cannot wait for his turn while playing a game. His teacher also complains that he is excessively talkative, disturbs other students, and is inattentive in class. Which of the following is the drug of choice for the treatment of this condition?",
    "options": [
      {
        "label": "A",
        "text": "Modafinil",
        "correct": false
      },
      {
        "label": "B",
        "text": "Atomoxetine",
        "correct": false
      },
      {
        "label": "C",
        "text": "Amitryptiline",
        "correct": false
      },
      {
        "label": "D",
        "text": "Methylphenidate",
        "correct": true
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">According to the given clinical scenario, the child has ADHD. Methylphenidate is the drug of choice for the treatment of ADHD in children. Treatment of ADHD: ¬¢ Stimulants (first-line medications) - Methylphenidate (drug of choice), amphetamines. These drugs have a rapid onset of action and are well tolerated. The most common adverse effect is decreased appetite. * Non-stimulants - atomoxetine (norepinephrine reuptake inhibitor), alpha-2 adrenergic agonists. 333 * Behavioral therapy</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "30_Attention-Deficit Disorders and Disruptive Beha...",
    "deck_id": 1755954606508,
    "correctAnswer": "D. Methylphenidate"
  },
  {
    "id": 398,
    "text": "Q7. 6-year-old boy is referred to your OPD for psychiatric evaluation. He is constantly on the move and appears to be driven by a motor. During the evaluation, he has difficulty staying focused on the questions. His mother complains that he never seems to pay attention. Which of the following selective norepinephrine reuptake inhibitors would you prescribe for him?",
    "options": [
      {
        "label": "A",
        "text": "Levomilnacipran",
        "correct": false
      },
      {
        "label": "B",
        "text": "Duloxetine 329",
        "correct": false
      },
      {
        "label": "C",
        "text": "Venlafaxine",
        "correct": false
      },
      {
        "label": "D",
        "text": "Atomoxetine",
        "correct": true
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">The clinical scenario describes a case of Attention Deficit Hyperactivity Disorder (ADHD). Atomoxetine is a selective norepinephrine reuptake inhibitor approved by the FDA for the treatment of ADHD in children aged 6 years and older.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "30_Attention-Deficit Disorders and Disruptive Beha...",
    "deck_id": 1755954606508,
    "correctAnswer": "D. Atomoxetine"
  },
  {
    "id": 399,
    "text": "Q9. child with disruptive behaviour is diagnosed with attention-deficit hyperactivity disorder. As the child grows which of his following symptoms is first to remit?",
    "options": [
      {
        "label": "A",
        "text": "Decreased attention span",
        "correct": false
      },
      {
        "label": "B",
        "text": "Impulsivity",
        "correct": false
      },
      {
        "label": "C",
        "text": "Distractibility",
        "correct": false
      },
      {
        "label": "D",
        "text": "Overactivity 330",
        "correct": true
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">During the course of attention deficit hyperactivity disorder (ADHD), overactivity is the first symptom to remit, i. e. , become less severe. The course of ADHD is variable. A vast majority of cases persist into adult life. In the cases that remit at puberty or in early adulthood, overactivity is usually the first symptom to remit but the decreased attention span and impulse-control problems persist.</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "30_Attention-Deficit Disorders and Disruptive Beha...",
    "deck_id": 1755954606508,
    "correctAnswer": "D. Overactivity 330"
  },
  {
    "id": 400,
    "text": "Q10. 13-year-old boy was brought to your clinic by his worried mother. He had been suspended twice from his school for bullying, assaulting his classmates and stealing from them. He would sometimes stay out all night despite his parents telling him not to, and he was recently warned by the local police for vandalism. What is the most likely diagnosis?",
    "options": [
      {
        "label": "A",
        "text": "Oppositional defiant disorder ee ee ee Detailed Explanations Solution to Question 1: Attention deficit/hyperactivity disorder (ADHD) was known as minimal brain dysfunction earlier. Solution to Question 2: The most common symptom of ADHD is hyperactivity. 331",
        "correct": false
      },
      {
        "label": "B",
        "text": "Conduct disorder",
        "correct": true
      },
      {
        "label": "C",
        "text": "Anti-social personality disorder",
        "correct": false
      },
      {
        "label": "D",
        "text": "Disruptive mood dysregulation disorder ee ee ee ee ee ee",
        "correct": false
      }
    ],
    "imageData": null,
    "explanationHTML": "<div class=\"explanation\">A 13-year-old boy with a history of aggression towards people within the past 6 months, destruction of property, and theft for the last couple of years points towards a diagnosis of conduct disorder. If it persists beyond 18 years of age it is referred to as anti-social personality disorder. Conduct disorder is diagnosed when at least 3 behaviors have been present within the previous 12 months, with at least 1 present in the past 6 months. Conduct disorder can be classified based on onset as: * Childhood-onset type: Individuals show at least one symptom characteristic of conduct disorder before the age of 10 years. * Adolescent-onset type: Individuals do not show features of conduct disorder before the age of 10 years. 334 * Unspecified onset: Criteria for a diagnosis of conduct disorder are met, but there is not enough information available to determine whether the onset of the first symptom was before or after the age of 10 years. Oppositional defiant disorder (ODD): - A persistent pattern of negativistic, hostile, and defiant attitude/behavior towards adults. * Seen in children less than 10 years of age. * The symptoms must be present at least 6 months, during which 4 or more of the following have to be present: * Argues with others * Loses temper ¬¢ Blames others * Easily annoyed * Refuses and defies to listening to adults ¬¢ Annoys other people quite often Unlike conduct disorder, children with ODD do not indulge in destructive and physically harmful activities. Disruptive mood dysregulation disorder: Onset before age 10. Severe, recurrent temper outbursts out of proportion to the situation. Child is constantly angry and irritable between outbreks. Aggression towards people a_ | Initiating physical fights, bull nd animals ying, threatening, or intimida ting othersUsing a weapon to cause serious harm to others Being physically cruel to peo pleBeing physically cruel to a nimalsStealing while confron ting a victimForcing someone into sexual activity Destruction of property Setting firesIntentionally dest roying the property of others Serious violation of rules Running away overnight at le ast twice or once without ret urning for a lengthy period. B eing truant from school often starting before age 13. Frequ ently staying out at night des pite parental prohibitions sta rting before age 13 335 Deceitfulness or theft Frequently lying to obtain go ods or favorsBreaking into a car or buildingStealing items of nontrivial value without co nfronting a victim 336</div><div class=\"telegram-link\"><small><a href=\"http://t.me/Friendly_neighborhood_medico_bot\"> </a></small></div>",
    "subdeck": "30_Attention-Deficit Disorders and Disruptive Beha...",
    "deck_id": 1755954606508,
    "correctAnswer": "B. Conduct disorder"
  }
];
        let currentQuestion = 0;
        let answers = [];
        let correctCount = 0;
        let incorrectCount = 0;
        let answeredQuestions = new Set();
        let isTestMode = localStorage.getItem('testMode') === 'true' || false;

        console.log('Quiz loaded with', questions.length, 'questions');
        console.log('Test mode:', isTestMode);

        // Hide stats bar if test mode is enabled
        if (isTestMode) {
            document.addEventListener('DOMContentLoaded', () => {
                document.getElementById('stats-bar').style.display = 'none';
            });
        }

        // Auto-start quiz
        startQuiz();

        function startQuiz() {
            answers = new Array(questions.length).fill(null);
            correctCount = 0;
            incorrectCount = 0;
            answeredQuestions = new Set();
            currentQuestion = 0;
            showQuestion(0);
            updateStats();
        }

        function showQuestion(index) {
            currentQuestion = index;
            const question = questions[index];

            document.getElementById('question-number').textContent = `Question ${index + 1} of ${questions.length}`;
            document.getElementById('question-text').innerHTML = question.text;
            document.getElementById('question-status').textContent = answers[index] ? 'Question answered' : 'Click an option to answer';

            const imagesContainer = document.getElementById('question-images');
            imagesContainer.innerHTML = '';

            if (question.imageData) {
                const img = document.createElement('img');
                img.src = `data:${question.imageData.mime};base64,${question.imageData.data}`;
                img.className = 'medical-image';
                img.alt = 'Medical Question Image';
                imagesContainer.appendChild(img);
            }

            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';

            question.options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-card w-full p-6 text-left bg-white rounded-xl shadow-lg';
                button.innerHTML = `<span class="font-bold text-blue-600 mr-4">${option.label}.</span>${option.text}`;

                if (!isTestMode && answers[index] !== null) {
                    button.disabled = true;
                    if (option.correct) {
                        button.classList.add('correct');
                    } else if (answers[index] === option.label) {
                        button.classList.add('incorrect');
                    }
                } else {
                    button.onclick = () => selectAnswer(option.label);
                }

                if (answers[index] === option.label) {
                    button.classList.add('selected');
                }

                optionsContainer.appendChild(button);
            });

            // Show feedback only in normal mode and if answered
            if (!isTestMode && answers[index] !== null) {
                showFeedback(index);
            } else {
                document.getElementById('feedback-section').classList.add('hidden');
            }

            document.getElementById('prev-btn').disabled = index === 0;

            if (answers[index] !== null) {
                if (index === questions.length - 1) {
                    document.getElementById('next-btn').classList.add('hidden');
                    document.getElementById('finish-btn').classList.remove('hidden');
                } else {
                    document.getElementById('next-btn').classList.remove('hidden');
                    document.getElementById('finish-btn').classList.add('hidden');
                }
            } else {
                document.getElementById('next-btn').classList.add('hidden');
                document.getElementById('finish-btn').classList.add('hidden');
            }

            const progress = ((index + 1) / questions.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
        }

        function selectAnswer(label) {
            const question = questions[currentQuestion];
            const correctOption = question.options.find(opt => opt.correct);
            const isCorrect = correctOption && label === correctOption.label;

            if (!answeredQuestions.has(currentQuestion)) {
                answeredQuestions.add(currentQuestion);
                if (isCorrect) {
                    correctCount++;
                } else {
                    incorrectCount++;
                }
            }

            answers[currentQuestion] = label;
            updateStats();
            
            showQuestion(currentQuestion);
        }

        function showFeedback(questionIndex) {
            const question = questions[questionIndex];
            const userAnswer = answers[questionIndex];
            const correctOption = question.options.find(opt => opt.correct);
            const userOption = question.options.find(opt => opt.label === userAnswer);
            const isCorrect = correctOption && userAnswer === correctOption.label;

            const feedbackSection = document.getElementById('feedback-section');
            const feedbackIcon = document.getElementById('feedback-icon');
            const feedbackMessage = document.getElementById('feedback-message');

            if (isCorrect) {
                feedbackSection.className = 'bg-green-50 border border-green-200 mb-8 p-6 rounded-2xl';
                feedbackIcon.textContent = '‚úÖ';
                feedbackMessage.textContent = 'Correct!';
                feedbackMessage.className = 'text-2xl font-bold mb-2 text-green-700';
            } else {
                feedbackSection.className = 'bg-red-50 border border-red-200 mb-8 p-6 rounded-2xl';
                feedbackIcon.textContent = '‚ùå';
                feedbackMessage.textContent = 'Incorrect';
                feedbackMessage.className = 'text-2xl font-bold mb-2 text-red-700';
            }

            document.getElementById('user-answer-display').innerHTML = `<span class="${isCorrect ? 'text-green-600' : 'text-red-600'}">${userAnswer}. ${userOption?.text || 'Unknown'}</span>`;
            document.getElementById('correct-answer-display').textContent = question.correctAnswer;

            const explanationSection = document.getElementById('explanation-section');
            if (question.explanationHTML && question.explanationHTML.trim()) {
                document.getElementById('explanation-content').innerHTML = question.explanationHTML;
                explanationSection.classList.remove('hidden');
            } else {
                explanationSection.classList.add('hidden');
            }

            feedbackSection.classList.remove('hidden');
        }

        function updateStats() {
            const totalAnswered = correctCount + incorrectCount;
            const accuracy = totalAnswered === 0 ? 0 : Math.round((correctCount / totalAnswered) * 100);

            document.getElementById('correct-stats').textContent = correctCount;
            document.getElementById('incorrect-stats').textContent = incorrectCount;
            document.getElementById('accuracy-stats').textContent = `${accuracy}%`;
            document.getElementById('progress-stats').textContent = `${totalAnswered}/${questions.length}`;
        }

        document.getElementById('prev-btn').onclick = () => {
            if (currentQuestion > 0) {
                showQuestion(currentQuestion - 1);
            }
        };
        
        document.getElementById('next-btn').onclick = () => {
            if (currentQuestion < questions.length - 1) {
                showQuestion(currentQuestion + 1);
            }
        };
        
        document.getElementById('finish-btn').onclick = showFinalResults;

        function showFinalResults() {
            if (isTestMode) {
                showTestModeResults();
            } else {
                showNormalModeResults();
            }
        }

        function showTestModeResults() {
            const accuracy = (correctCount + incorrectCount === 0) ? 0 : Math.round((correctCount / (correctCount + incorrectCount)) * 100);

            document.getElementById('quiz-section').classList.add('hidden');
            document.getElementById('test-results').classList.remove('hidden');

            document.getElementById('test-final-correct').textContent = correctCount;
            document.getElementById('test-final-incorrect').textContent = incorrectCount;
            document.getElementById('test-final-accuracy').textContent = `${accuracy}%`;

            let gradeIcon = 'üéØ';
            if (accuracy >= 90) {
                gradeIcon = 'üèÜ';
            } else if (accuracy >= 80) {
                gradeIcon = 'üéâ';
            } else if (accuracy >= 70) {
                gradeIcon = 'üëç';
            } else if (accuracy >= 60) {
                gradeIcon = 'üìö';
            } else {
                gradeIcon = 'üí™';
            }

            document.getElementById('test-grade-icon').textContent = gradeIcon;

            // Show detailed review
            const reviewContainer = document.getElementById('test-review-details');
            reviewContainer.innerHTML = '';

            questions.forEach((question, index) => {
                const userAnswer = answers[index];
                const correctOption = question.options.find(opt => opt.correct);
                const userOption = question.options.find(opt => opt.label === userAnswer);
                const isCorrect = correctOption && userAnswer === correctOption.label;

                const reviewCard = document.createElement('div');
                reviewCard.className = `border-l-4 p-4 bg-white rounded-lg shadow-sm ${isCorrect ? 'border-green-500' : 'border-red-500'}`;
                
                reviewCard.innerHTML = `
                    <div class="flex items-center justify-between mb-2">
                        <h4 class="font-bold text-gray-800">Question ${index + 1}</h4>
                        <span class="text-2xl">${isCorrect ? '‚úÖ' : '‚ùå'}</span>
                    </div>
                    <p class="text-gray-700 mb-3">${question.text}</p>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <strong class="text-gray-600">Your Answer:</strong><br>
                            <span class="${isCorrect ? 'text-green-600' : 'text-red-600'}">${userAnswer}. ${userOption?.text || 'Not answered'}</span>
                        </div>
                        <div>
                            <strong class="text-gray-600">Correct Answer:</strong><br>
                            <span class="text-green-600">${question.correctAnswer}</span>
                        </div>
                    </div>
                    ${question.explanationHTML ? `
                        <div class="mt-3 p-3 bg-blue-50 rounded-lg">
                            <strong class="text-blue-800">Explanation:</strong>
                            <div class="mt-2 explanation-content">${question.explanationHTML}</div>
                        </div>
                    ` : ''}
                `;
                
                reviewContainer.appendChild(reviewCard);
            });
        }

        function showNormalModeResults() {
            const accuracy = (correctCount + incorrectCount === 0) ? 0 : Math.round((correctCount / (correctCount + incorrectCount)) * 100);

            document.getElementById('quiz-section').classList.add('hidden');
            document.getElementById('final-results').classList.remove('hidden');

            document.getElementById('final-correct').textContent = correctCount;
            document.getElementById('final-incorrect').textContent = incorrectCount;
            document.getElementById('final-accuracy').textContent = `${accuracy}%`;

            let gradeIcon = 'üéØ';
            if (accuracy >= 90) {
                gradeIcon = 'üèÜ';
            } else if (accuracy >= 80) {
                gradeIcon = 'üéâ';
            } else if (accuracy >= 70) {
                gradeIcon = 'üëç';
            } else if (accuracy >= 60) {
                gradeIcon = 'üìö';
            } else {
                gradeIcon = 'üí™';
            }

            document.getElementById('final-grade-icon').textContent = gradeIcon;
        }
    </script>
</body>
</html>